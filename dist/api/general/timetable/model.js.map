{"version":3,"sources":["../../../../src/api/general/timetable/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","name","Joi","string","optional","description","classe","subject_id","datetime","date","duration","number","valid","Object","values","CLASSE","array","schemaUpdate","teacher_id","schema","type","String","Date","Number","enum","required","ref","options","DATABASE","OPTIONS","newSchema","set","timetable","model","Timetable"],"mappings":";;;;;;;;;AAWA;;;;AACA;;;;AAEA;;;;AACA;;AAEA;;;;;;kNAjBA;;;;;;;;;;;;AAaA;;AAGA;;;IAGQA,M,GAAWC,kB,CAAXD,M;IACAE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME;AACTC,UAAMC,cAAIC,MAAJ,GAAaC,QAAb,EADG;AAETC,iBAAaH,cAAIC,MAAJ,GAAaC,QAAb,EAFJ;AAGTE,YAAQJ,cAAIC,MAAJ,GAAaC,QAAb,EAHC;AAITG,gBAAYL,cAAIC,MAAJ,GAAaC,QAAb,EAJH;AAKTI,cAAUN,cAAIO,IAAJ,GAAWL,QAAX,EALD;AAMTM,cAAUR,cAAIS,MAAJ,GAAaP,QAAb;AAND,4CAODF,cAAIC,MAAJ,GAAaS,KAAb,CAAmBC,OAAOC,MAAP,CAAcC,iBAAd,CAAnB,EAA0CX,QAA1C,EAPC,gDAQGF,cAAIc,KAAJ,GAAYZ,QAAZ,EARH,iBAAN;;AAWA,IAAMa,sCAAe;AACxBhB,UAAMC,cAAIC,MAAJ,GAAaC,QAAb,EADkB;AAExBC,iBAAaH,cAAIC,MAAJ,GAAaC,QAAb,EAFW;AAGxBG,gBAAYL,cAAIC,MAAJ,GAAaC,QAAb,EAHY;AAIxBI,cAAUN,cAAIO,IAAJ,GAAWL,QAAX,EAJc;AAKxBM,cAAUR,cAAIS,MAAJ,GAAaP,QAAb,EALc;AAMxBE,YAAQJ,cAAIC,MAAJ,GAAaS,KAAb,CAAmBC,OAAOC,MAAP,CAAcC,iBAAd,CAAnB,EAA0CX,QAA1C,EANgB;AAOxBc,gBAAYhB,cAAIc,KAAJ,GAAYZ,QAAZ;AAPY,CAArB;;AAUA,IAAMe,0BAAS;AAClBlB,UAAM,EAAEmB,MAAMC,MAAR,EADY;AAElBhB,iBAAa,EAAEe,MAAMC,MAAR,EAFK;AAGlBb,cAAU,EAAEY,MAAME,IAAR,EAHQ;AAIlBZ,cAAU,EAAEU,MAAMG,MAAR,EAJQ;AAKlBjB,YAAQ;AACJc,cAAMC,MADF;AAEJG,cAAMX,OAAOC,MAAP,CAAcC,iBAAd,CAFF;AAGJU,kBAAU;AAHN,KALU;AAUlBP,gBAAY,CAAC,EAAEE,MAAMtB,QAAR,EAAkB4B,KAAK,SAAvB,EAAD,CAVM;AAWlBnB,gBAAY,EAAEa,MAAMtB,QAAR,EAAkB4B,KAAK,SAAvB;;AAXM,CAAf;;AAeP,IAAMC,UAAUC,oBAASC,OAAzB;;AAEA,IAAMC,YAAY,IAAIlC,MAAJ,CAAWuB,MAAX,EAAmBQ,OAAnB,CAAlB;AACAG,UAAUC,GAAV,CAAc,YAAd,EAA4B,WAA5B;;AAEA,IAAMC,YAAYnC,mBAASoC,KAAT,CAAe,WAAf,EAA4BH,SAA5B,CAAlB;;kBAEeI,S","file":"model.js","sourcesContent":["/**\n * @author 4Dcoder\n * @property {ObjectId} id Timetable primaryKey\n * @property {String} name Timetable name\n * @property {ObjectId} classe Class name\n * @property {ObjectId} subject_id Subject name\n * @property {Date} datetime Date and time\n * @property {Number} duration Duration\n * @property {Array} teacher_id staff_list\n * @description Timetable model holds record of all subject teachers timetable and durations\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE, CLASSE } from \"../../../constants\";\n// eslint-disable-next-line import/no-cycle\nimport teacher from \"../teacher/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const schemaCreate = {\n    name: Joi.string().optional(),\n    description: Joi.string().optional(),\n    classe: Joi.string().optional(),\n    subject_id: Joi.string().optional(),\n    datetime: Joi.date().optional(),\n    duration: Joi.number().optional(),\n    classe: Joi.string().valid(Object.values(CLASSE)).optional(),\n    teacher_id: Joi.array().optional(),\n};\n\nexport const schemaUpdate = {\n    name: Joi.string().optional(),\n    description: Joi.string().optional(),\n    subject_id: Joi.string().optional(),\n    datetime: Joi.date().optional(),\n    duration: Joi.number().optional(),\n    classe: Joi.string().valid(Object.values(CLASSE)).optional(),\n    teacher_id: Joi.array().optional(),\n};\n\nexport const schema = {\n    name: { type: String },\n    description: { type: String },\n    datetime: { type: Date },\n    duration: { type: Number },\n    classe: {\n        type: String,\n        enum: Object.values(CLASSE),\n        required: true,\n    },\n    teacher_id: [{ type: ObjectId, ref: \"Teacher\" }],\n    subject_id: { type: ObjectId, ref: \"Subject\" },\n    \n};\n\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"timetable\");\n\nconst timetable = mongoose.model(\"timetable\", newSchema);\n\nexport default Timetable;\n"]}