{"version":3,"sources":["../../../../src/api/general/timetable/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","name","Joi","string","optional","description","classe","subject","datetime","date","duration","number","staff","array","schemaUpdate","schema","type","String","Date","Number","ref","options","DATABASE","OPTIONS","newSchema","set","Timetable","model"],"mappings":";;;;;;;AAWA;;;;AACA;;;;AAEA;;;;AACA;;AAEA;;;;AACA;;;;;;AAFA;;AAHA;AAbA;;;;;;;;;;;IAoBQA,M,GAAWC,kB,CAAXD,M;IACAE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME,sCAAe;AACxBC,UAAMC,cAAIC,MAAJ,GAAaC,QAAb,EADkB;AAExBC,iBAAaH,cAAIC,MAAJ,GAAaC,QAAb,EAFW;AAGxBE,YAAQJ,cAAIC,MAAJ,GAAaC,QAAb,EAHgB;AAIxBG,aAASL,cAAIC,MAAJ,GAAaC,QAAb,EAJe;AAKxBI,cAAUN,cAAIO,IAAJ,GAAWL,QAAX,EALc;AAMxBM,cAAUR,cAAIS,MAAJ,GAAaP,QAAb,EANc;AAOxBQ,WAAOV,cAAIW,KAAJ,GAAYT,QAAZ;AAPiB,CAArB;;AAUA,IAAMU,sCAAe;AACxBb,UAAMC,cAAIC,MAAJ,GAAaC,QAAb,EADkB;AAExBC,iBAAaH,cAAIC,MAAJ,GAAaC,QAAb,EAFW;AAGxBG,aAASL,cAAIC,MAAJ,GAAaC,QAAb,EAHe;AAIxBI,cAAUN,cAAIO,IAAJ,GAAWL,QAAX,EAJc;AAKxBM,cAAUR,cAAIS,MAAJ,GAAaP,QAAb,EALc;AAMxBQ,WAAOV,cAAIW,KAAJ,GAAYT,QAAZ;AANiB,CAArB;;AASA,IAAMW,0BAAS;AAClBd,UAAM,EAAEe,MAAMC,MAAR,EADY;AAElBZ,iBAAa,EAAEW,MAAMC,MAAR,EAFK;AAGlBT,cAAU,EAAEQ,MAAME,IAAR,EAHQ;AAIlBR,cAAU,EAAEM,MAAMG,MAAR,EAJQ;AAKlBb,YAAQ,EAAEU,MAAMlB,QAAR,EAAkBsB,KAAK,QAAvB,EALU;AAMlBR,WAAO,CAAC,EAAEI,MAAMlB,QAAR,EAAkBsB,KAAK,OAAvB,EAAD,CANW;AAOlBb,aAAS,EAAES,MAAMlB,QAAR,EAAkBsB,KAAK,SAAvB;AAPS,CAAf;;AAUP,IAAMC,UAAUC,oBAASC,OAAzB;;AAEA,IAAMC,YAAY,IAAI5B,MAAJ,CAAWmB,MAAX,EAAmBM,OAAnB,CAAlB;AACAG,UAAUC,GAAV,CAAc,YAAd,EAA4B,WAA5B;;AAEA,IAAMC,YAAY7B,mBAAS8B,KAAT,CAAe,WAAf,EAA4BH,SAA5B,CAAlB;;kBAEeE,S","file":"model.js","sourcesContent":["/**\n * @author 4Dcoder\n * @property {ObjectId} id Timetable primaryKey\n * @property {String} name Timetable name\n * @property {ObjectId} classe Class name\n * @property {ObjectId} subject Subject name\n * @property {Date} datetime Date and time\n * @property {Number} duration Duration\n * @property {Array} staff staff_list\n * @description Timetable model holds record of all subject staffs timetable and durations\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE } from \"../../../constants\";\n// eslint-disable-next-line import/no-cycle\nimport Staff from \"../staff/model\";\nimport Classe from \"../classe/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const schemaCreate = {\n    name: Joi.string().optional(),\n    description: Joi.string().optional(),\n    classe: Joi.string().optional(),\n    subject: Joi.string().optional(),\n    datetime: Joi.date().optional(),\n    duration: Joi.number().optional(),\n    staff: Joi.array().optional(),\n};\n\nexport const schemaUpdate = {\n    name: Joi.string().optional(),\n    description: Joi.string().optional(),\n    subject: Joi.string().optional(),\n    datetime: Joi.date().optional(),\n    duration: Joi.number().optional(),\n    staff: Joi.array().optional(),\n};\n\nexport const schema = {\n    name: { type: String },\n    description: { type: String },\n    datetime: { type: Date },\n    duration: { type: Number },\n    classe: { type: ObjectId, ref: \"Classe\" },\n    staff: [{ type: ObjectId, ref: \"Staff\" }],\n    subject: { type: ObjectId, ref: \"Subject\" },\n};\n\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"timetable\");\n\nconst Timetable = mongoose.model(\"timetable\", newSchema);\n\nexport default Timetable;\n"]}