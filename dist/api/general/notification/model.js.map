{"version":3,"sources":["../../../../src/api/general/notification/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","title","Joi","string","optional","status","user_type","valid","required","staff_id","student_id","parent_id","message","notification_status","created_by","schemaUpdate","updated_by","schema","type","String","enum","ref","default","options","DATABASE","OPTIONS","newSchema","set","Notification","model"],"mappings":";;;;;;;AAWA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;AACA;;;;;;AAJA;AAbA;;;;;;;;;;;IAmBQA,M,GAAWC,kB,CAAXD,M;IACAE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME,sCAAe;AACxBC,WAAOC,cAAIC,MAAJ,GAAaC,QAAb,EADiB;AAExBC,YAAQH,cAAIC,MAAJ,GAAaC,QAAb,EAFgB;AAGxBE,eAAWJ,cAAIC,MAAJ,GAAaI,KAAb,CAAmB,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,CAAnB,EAAmDC,QAAnD,EAHa;AAIxBC,cAAUP,cAAIC,MAAJ,GAAaC,QAAb,EAJc;AAKxBM,gBAAYR,cAAIC,MAAJ,GAAaC,QAAb,EALY;AAMxBO,eAAWT,cAAIC,MAAJ,GAAaC,QAAb,EANa;AAOxBQ,aAASV,cAAIC,MAAJ,GAAaC,QAAb,EAPe;AAQxBS,yBAAqBX,cAAIC,MAAJ,GAAaI,KAAb,CAAmB,SAAnB,EAA8B,QAA9B,EAAwCH,QAAxC,EARG;AASxBU,gBAAYZ,cAAIC,MAAJ,GAAaK,QAAb;AATY,CAArB;;AAYA,IAAMO,sCAAe;AACxBd,WAAOC,cAAIC,MAAJ,GAAaC,QAAb,EADiB;AAExBC,YAAQH,cAAIC,MAAJ,GAAaC,QAAb,EAFgB;AAGxBE,eAAWJ,cAAIC,MAAJ,GAAaI,KAAb,CAAmB,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,CAAnB,EAAmDC,QAAnD,EAHa;AAIxBC,cAAUP,cAAIC,MAAJ,GAAaC,QAAb,EAJc;AAKxBM,gBAAYR,cAAIC,MAAJ,GAAaC,QAAb,EALY;AAMxBO,eAAWT,cAAIC,MAAJ,GAAaC,QAAb,EANa;AAOxBQ,aAASV,cAAIC,MAAJ,GAAaC,QAAb,EAPe;AAQxBS,yBAAqBX,cAAIC,MAAJ,GAAaI,KAAb,CAAmB,SAAnB,EAA8B,QAA9B,EAAwCH,QAAxC,EARG;AASxBY,gBAAYd,cAAIC,MAAJ,GAAaK,QAAb;AATY,CAArB;;AAYA,IAAMS,0BAAS;;AAElBX,eAAW,EAAEY,MAAMC,MAAR,EAAgBC,MAAM,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,CAAtB,EAAsDZ,UAAU,IAAhE,EAFO;AAGlBC,cAAU,EAAES,MAAMpB,QAAR,EAAkBuB,KAAK,OAAvB,EAHQ;AAIlBX,gBAAY,EAAEQ,MAAMpB,QAAR,EAAkBuB,KAAK,SAAvB,EAJM;AAKlBV,eAAW,EAAEO,MAAMpB,QAAR,EAAkBuB,KAAK,QAAvB,EALO;AAMlBT,aAAS,EAAEM,MAAMC,MAAR,EANS;AAOlBN,yBAAqB,EAAEK,MAAMC,MAAR,EAAgBC,MAAM,CAAC,SAAD,EAAY,QAAZ,CAAtB,EAA6CE,SAAS,SAAtD,EAPH;AAQlBR,gBAAY,EAAEI,MAAMpB,QAAR,EAAkBuB,KAAK,OAAvB,EAAgCb,UAAU,IAA1C,EARM;AASlBQ,gBAAY,EAAEE,MAAMpB,QAAR,EAAkBuB,KAAK,OAAvB;AATM,CAAf;;AAYP,IAAME,UAAUC,oBAASC,OAAzB;;AAEA,IAAMC,YAAY,IAAI9B,MAAJ,CAAWqB,MAAX,EAAmBM,OAAnB,CAAlB;AACAG,UAAUC,GAAV,CAAc,YAAd,EAA4B,cAA5B;;AAEA,IAAMC,eAAe/B,mBAASgC,KAAT,CAAe,cAAf,EAA+BH,SAA/B,CAArB;;kBAEeE,Y","file":"model.js","sourcesContent":["/**\n * @author 4Dcoder\n * @property {ObjectId} id Notification primaryKey\n * @property {String} user_type Notification user type \"STAFF|PARENT|STUDENT\"\n * @property {ObjectId} staff_id Notification staff ObjectId\n * @property {ObjectId} student_id Notification student ObjectId\n * @property {ObjectId} parent_id Notification parent ObjectId\n * @property {String} message Notification message\n * @property {String} notification_status Notification record status \"PENDING|CLOSED\"\n * @description Notification model holds record of all Notification\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE } from \"../../../constants\";\nimport Staff from \"../staff/model\";\nimport Student from \"../student/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const schemaCreate = {\n    title: Joi.string().optional(),\n    status: Joi.string().optional(),\n    user_type: Joi.string().valid([\"STAFF\", \"PARENT\", \"STUDENT\"]).required(),\n    staff_id: Joi.string().optional(),\n    student_id: Joi.string().optional(),\n    parent_id: Joi.string().optional(),\n    message: Joi.string().optional(),\n    notification_status: Joi.string().valid(\"PENDING\", \"CLOSED\").optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const schemaUpdate = {\n    title: Joi.string().optional(),\n    status: Joi.string().optional(),\n    user_type: Joi.string().valid([\"STAFF\", \"PARENT\", \"STUDENT\"]).required(),\n    staff_id: Joi.string().optional(),\n    student_id: Joi.string().optional(),\n    parent_id: Joi.string().optional(),\n    message: Joi.string().optional(),\n    notification_status: Joi.string().valid(\"PENDING\", \"CLOSED\").optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const schema = {\n    \n    user_type: { type: String, enum: [\"STAFF\", \"PARENT\", \"STUDENT\"], required: true },\n    staff_id: { type: ObjectId, ref: \"Staff\" },\n    student_id: { type: ObjectId, ref: \"Student\" },\n    parent_id: { type: ObjectId, ref: \"Parent\" },\n    message: { type: String },\n    notification_status: { type: String, enum: [\"PENDING\", \"CLOSED\"], default: \"PENDING\" },\n    created_by: { type: ObjectId, ref: \"Staff\", required: true },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"notification\");\n\nconst Notification = mongoose.model(\"Notification\", newSchema);\n\nexport default Notification;\n"]}