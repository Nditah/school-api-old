{"version":3,"sources":["../../../../src/api/general/contact-us/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","fullname","Joi","string","required","email","trim","phone","subject","message","request_type","valid","schemaUpdate","request_status","optional","remark","has_ticket","boolean","updated_by","schema","type","String","enum","default","Boolean","options","DATABASE","OPTIONS","newSchema","set","ContactUs","model"],"mappings":";;;;;;;AAgBA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;;;IAEQA,M,GAAWC,kB,CAAXD,M;AALR;AAlBA;;;;;;;;;;;;;;;;;IAwBQE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME,sCAAe;AACxBC,cAAUC,cAAIC,MAAJ,GAAaC,QAAb,EADc;AAExBC,WAAOH,cAAIC,MAAJ,GAAaG,IAAb,GAAoBD,KAApB,GAA4BD,QAA5B,EAFiB;AAGxBG,WAAOL,cAAIC,MAAJ,GAAaG,IAAb,GAAoBF,QAApB,EAHiB;AAIxBI,aAASN,cAAIC,MAAJ,GAAaC,QAAb,EAJe;AAKxBK,aAASP,cAAIC,MAAJ,GAAaC,QAAb,EALe;AAMxBM,kBAAcR,cAAIC,MAAJ,GAAaG,IAAb,GAAoBK,KAApB,CAA0B,WAA1B,EAAuC,SAAvC,EAAkD,YAAlD,EAAgEP,QAAhE;AANU,CAArB;;AASA,IAAMQ,sCAAe;AACxBC,oBAAgBX,cAAIC,MAAJ,GAAaG,IAAb,GAAoBK,KAApB,CAA0B,QAA1B,EAAoC,QAApC,EAA8CG,QAA9C,EADQ;AAExBC,YAAQb,cAAIC,MAAJ,EAFgB;AAGxBa,gBAAYd,cAAIe,OAAJ,EAHY;AAIxBC,gBAAYhB,cAAIC,MAAJ,GAAaC,QAAb;AAJY,CAArB;;AAOA,IAAMe,0BAAS;AAClBlB,cAAU,EAAEmB,MAAMC,MAAR,EAAgBjB,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EADQ;AAElBC,WAAO,EAAEe,MAAMC,MAAR,EAAgBjB,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAFW;AAGlBG,WAAO,EAAEa,MAAMC,MAAR,EAAgBjB,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAHW;AAIlBI,aAAS,EAAEY,MAAMC,MAAR,EAAgBjB,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAJS;AAKlBK,aAAS,EAAEW,MAAMC,MAAR,EAAgBjB,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EALS;AAMlBM,kBAAc;AACVU,cAAMC,MADI;AAEVC,cAAM,CAAC,WAAD,EAAc,SAAd,EAAyB,YAAzB,CAFI;AAGVlB,kBAAU,CAAC,IAAD,EAAO,eAAP;AAHA,KANI;AAWlBS,oBAAgB;AACZO,cAAMC,MADM;AAEZC,cAAM,CAAC,SAAD,EAAY,QAAZ,EAAsB,QAAtB,CAFM;AAGZC,iBAAS,SAHG;AAIZnB,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJE,KAXE;AAiBlBW,YAAQ,EAAEK,MAAMC,MAAR,EAjBU;AAkBlBL,gBAAY,EAAEI,MAAMI,OAAR,EAAiBpB,UAAU,CAAC,IAAD,EAAO,eAAP,CAA3B,EAAoDmB,SAAS,KAA7D,EAlBM;AAmBlBL,gBAAY,EAAEE,MAAMtB,QAAR;AAnBM,CAAf;AAqBP,IAAM2B,UAAUC,oBAASC,OAAzB;;AAEA,IAAMC,YAAY,IAAIhC,MAAJ,CAAWuB,MAAX,EAAmBM,OAAnB,CAAlB;AACAG,UAAUC,GAAV,CAAc,YAAd,EAA4B,YAA5B;;AAEA,IAAMC,YAAYjC,mBAASkC,KAAT,CAAe,WAAf,EAA4BH,SAA5B,CAAlB;;kBAEeE,S","file":"model.js","sourcesContent":["/**\r\n * @author 4Dcoder\r\n * @property {Number} id contact_us primaryKey\r\n * @property {String} fullname ContactUs fullname (required)\r\n * @property {String} email ContactUs email (required)\r\n * @property {String} phone ContactUs phone (required)\r\n * @property {String} subject ContactUs subject (required)\r\n * @property {String} message ContactUs message (required)\r\n * @property {String} request_type ContactUs request_type with values\r\n * \"COMPLAINT\", \"ENQUIRY\", \"SUGGESTION\", (required)\r\n * @property {String} request_status ContactUs request_status with values\r\n *  \"PENDING\", \"ACTIVE\", \"CLOSED\" (prohibited)\r\n * @property {String} remark ContactUs remark (prohibited)\r\n * @property {Boolean} has_ticket ContactUs has_ticket (prohibited)\r\n * @description ContactUs model holds record of all contact_us info from site visitors\r\n */\r\nimport Joi from \"joi\";\r\nimport mongoose from \"mongoose\";\r\n// eslint-disable-next-line camelcase\r\nimport mongoose_csv from \"mongoose-csv\";\r\nimport { DATABASE } from \"../../../constants\";\r\nimport Staff from \"../staff/model\";\r\n\r\nconst { Schema } = mongoose;\r\nconst { ObjectId } = Schema.Types;\r\n\r\nexport const schemaCreate = {\r\n    fullname: Joi.string().required(),\r\n    email: Joi.string().trim().email().required(),\r\n    phone: Joi.string().trim().required(),\r\n    subject: Joi.string().required(),\r\n    message: Joi.string().required(),\r\n    request_type: Joi.string().trim().valid(\"COMPLAINT\", \"ENQUIRY\", \"SUGGESTION\").required(),\r\n};\r\n\r\nexport const schemaUpdate = {\r\n    request_status: Joi.string().trim().valid(\"ACTIVE\", \"CLOSED\").optional(),\r\n    remark: Joi.string(),\r\n    has_ticket: Joi.boolean(),\r\n    updated_by: Joi.string().required(),\r\n};\r\n\r\nexport const schema = {\r\n    fullname: { type: String, required: [true, \"Why no input?\"] },\r\n    email: { type: String, required: [true, \"Why no input?\"] },\r\n    phone: { type: String, required: [true, \"Why no input?\"] },\r\n    subject: { type: String, required: [true, \"Why no input?\"] },\r\n    message: { type: String, required: [true, \"Why no input?\"] },\r\n    request_type: {\r\n        type: String,\r\n        enum: [\"COMPLAINT\", \"ENQUIRY\", \"SUGGESTION\"],\r\n        required: [true, \"Why no input?\"],\r\n    },\r\n    request_status: {\r\n        type: String,\r\n        enum: [\"PENDING\", \"ACTIVE\", \"CLOSED\"],\r\n        default: \"PENDING\",\r\n        required: [true, \"Why no input?\"],\r\n    },\r\n    remark: { type: String },\r\n    has_ticket: { type: Boolean, required: [true, \"Why no input?\"], default: false },\r\n    updated_by: { type: ObjectId },\r\n};\r\nconst options = DATABASE.OPTIONS;\r\n\r\nconst newSchema = new Schema(schema, options);\r\nnewSchema.set(\"collection\", \"contact_us\");\r\n\r\nconst ContactUs = mongoose.model(\"ContactUs\", newSchema);\r\n\r\nexport default ContactUs;\r\n"]}