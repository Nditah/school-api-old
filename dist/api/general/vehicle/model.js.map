{"version":3,"sources":["../../../../src/api/general/vehicle/model.js"],"names":["Joi","mongoose","mongoose_csv","VEHICLE","SUBSIDIARY","EMPLOYEE_TYPE","ASSET_WORTHINESS","DATABASE","table","Staff","Schema","ObjectId","Types","VEHICLE_MAKE","VEHICLE_TYPE","VEHICLE_CATEGORY","VEHICLE_CLASS","VEHICLE_LOCATION","VEHICLE_ASSIGNMENT","VEHICLE_CUSTODIAN","RECORD_STATUS","schemaCreate","name","string","required","description","optional","engine_number","chasis_number","plate_number","registration_number","vehicle_make","seating_capacity","number","vehicle_type","valid","Object","values","vehicle_class","vehicle_category","vehicle_custodian","current_staff_id","current_partner_id","subsidiary","color","photo","vehicle_location","vehicle_assignment","asset_worthiness","purchase_date","date","launch_date","expiry_date","lifespan","purchase_value","opening_value","closing_value","salvage_value","current_value","total_depreciable_cost","depreciation_rate","depreciation_expense","accumulated_depreciation","remark","is_dto","boolean","dto_initial_deposit","is_healthy","is_active","created_by","schemaUpdate","record_status","approved_by","approved_date","ownership","updated_by","schema","type","String","Number","enum","default","UNKNOWN","ref","PMT","Date","PENDING","Boolean","dto_maintenance_balance","dto_repayment_total","is_dto_settled","rating_ids","preload","PRELOAD_TABLE_DATA","DEFAULT","options","OPTIONS","newSchema","set","plugin","Vehicle","model","insertMany"],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,aAA9B,EAA6CC,gBAA7C,EAA+DC,QAA/D,QAA+E,oBAA/E;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,MAAM,EAAEC,MAAF,KAAaT,QAAnB;AACA,MAAM,EAAEU,QAAF,KAAeD,OAAOE,KAA5B;;AAEA,MAAM;AACFC,gBADE;AAEFC,gBAFE;AAGFC,oBAHE;AAIFC,iBAJE;AAKFC,oBALE;AAMFC,sBANE;AAOFC;AAPE,IAQFhB,OARJ;;AAUA,MAAM,EAAEiB,aAAF,KAAoBb,QAA1B;;AAEA,OAAO,MAAMc,eAAe;AACxBC,UAAMtB,IAAIuB,MAAJ,GAAaC,QAAb,EADkB;AAExBC,iBAAazB,IAAIuB,MAAJ,GAAaG,QAAb,EAFW;AAGxBC,mBAAe3B,IAAIuB,MAAJ,GAAaG,QAAb,EAHS;AAIxBE,mBAAe5B,IAAIuB,MAAJ,GAAaG,QAAb,EAJS;AAKxBG,kBAAc7B,IAAIuB,MAAJ,GAAaG,QAAb,EALU;AAMxBI,yBAAqB9B,IAAIuB,MAAJ,GAAaG,QAAb,EANG;AAOxBK,kBAAc/B,IAAIuB,MAAJ,GAAaG,QAAb,EAPU;AAQxBM,sBAAkBhC,IAAIiC,MAAJ,GAAaP,QAAb,EARM;AASxBQ,kBAAclC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcvB,YAAd,CAAnB,EAAgDY,QAAhD,EATU;AAUxBY,mBAAetC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcrB,aAAd,CAAnB,EAAiDQ,QAAjD,EAVS;AAWxBe,sBAAkBvC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAActB,gBAAd,CAAnB,EAAoDS,QAApD,EAXM;AAYxBgB,uBAAmBxC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAchC,aAAd,CAAnB,EAAiDqB,QAAjD,EAZK;AAaxBe,sBAAkBzC,IAAIuB,MAAJ,GAAaG,QAAb,EAbM;AAcxBgB,wBAAoB1C,IAAIuB,MAAJ,GAAaG,QAAb,EAdI;AAexBiB,gBAAY3C,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcjC,UAAd,CAAnB,EAA8CoB,QAA9C,EAfY;AAgBxBoB,WAAO5C,IAAIuB,MAAJ,GAAaG,QAAb,EAhBiB;AAiBxBmB,WAAO7C,IAAIuB,MAAJ,GAAaG,QAAb,EAjBiB;AAkBxBoB,sBAAkB9C,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcpB,gBAAd,CAAnB,EAAoDS,QAApD,EAlBM;AAmBxBqB,wBAAoB/C,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcnB,kBAAd,CAAnB,EAAsDQ,QAAtD,EAnBI;AAoBxBsB,sBAAkBhD,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAc/B,gBAAd,CAAnB,EAAoDoB,QAApD,EApBM;AAqBxBuB,mBAAejD,IAAIkD,IAAJ,GAAWxB,QAAX,EArBS;AAsBxByB,iBAAanD,IAAIkD,IAAJ,GAAWxB,QAAX,EAtBW;AAuBxB0B,iBAAapD,IAAIkD,IAAJ,GAAWxB,QAAX,EAvBW;AAwBxB2B,cAAUrD,IAAIiC,MAAJ,GAAaP,QAAb,EAxBc;AAyBxB4B,oBAAgBtD,IAAIiC,MAAJ,GAAaP,QAAb,EAzBQ;AA0BxB6B,mBAAevD,IAAIiC,MAAJ,GAAaP,QAAb,EA1BS;AA2BxB8B,mBAAexD,IAAIiC,MAAJ,GAAaP,QAAb,EA3BS;AA4BxB+B,mBAAezD,IAAIiC,MAAJ,GAAaP,QAAb,EA5BS;AA6BxBgC,mBAAe1D,IAAIiC,MAAJ,GAAaP,QAAb,EA7BS;AA8BxBiC,4BAAwB3D,IAAIiC,MAAJ,GAAaP,QAAb,EA9BA;AA+BxBkC,uBAAmB5D,IAAIiC,MAAJ,GAAaP,QAAb,EA/BK;AAgCxBmC,0BAAsB7D,IAAIiC,MAAJ,GAAaP,QAAb,EAhCE;AAiCxBoC,8BAA0B9D,IAAIiC,MAAJ,GAAaP,QAAb,EAjCF;AAkCxBqC,YAAQ/D,IAAIuB,MAAJ,GAAaG,QAAb,EAlCgB;AAmCxBsC,YAAQhE,IAAIiE,OAAJ,GAAczC,QAAd,EAnCgB;AAoCxB0C,yBAAqBlE,IAAIuB,MAAJ,GAAaG,QAAb,EApCG;AAqCxByC,gBAAYnE,IAAIiE,OAAJ,GAAcvC,QAAd,EArCY;AAsCxB0C,eAAWpE,IAAIiE,OAAJ,GAAcvC,QAAd,EAtCa;AAuCxB2C,gBAAYrE,IAAIuB,MAAJ,GAAaC,QAAb;AAvCY,CAArB;;AA0CP,OAAO,MAAM8C,eAAe;AACxBhD,UAAMtB,IAAIuB,MAAJ,GAAaG,QAAb,EADkB;AAExBD,iBAAazB,IAAIuB,MAAJ,GAAaG,QAAb,EAFW;AAGxBC,mBAAe3B,IAAIuB,MAAJ,GAAaG,QAAb,EAHS;AAIxBE,mBAAe5B,IAAIuB,MAAJ,GAAaG,QAAb,EAJS;AAKxBG,kBAAc7B,IAAIuB,MAAJ,GAAaG,QAAb,EALU;AAMxBI,yBAAqB9B,IAAIuB,MAAJ,GAAaG,QAAb,EANG;AAOxBK,kBAAc/B,IAAIuB,MAAJ,GAAaG,QAAb,EAPU;AAQxBM,sBAAkBhC,IAAIiC,MAAJ,GAAaP,QAAb,EARM;AASxBQ,kBAAclC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcvB,YAAd,CAAnB,EAAgDY,QAAhD,EATU;AAUxBY,mBAAetC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcrB,aAAd,CAAnB,EAAiDU,QAAjD,EAVS;AAWxBa,sBAAkBvC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAActB,gBAAd,CAAnB,EAAoDW,QAApD,EAXM;AAYxBc,uBAAmBxC,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAchC,aAAd,CAAnB,EAAiDqB,QAAjD,EAZK;AAaxBe,sBAAkBzC,IAAIuB,MAAJ,GAAaG,QAAb,EAbM;AAcxBgB,wBAAoB1C,IAAIuB,MAAJ,GAAaG,QAAb,EAdI;AAexBiB,gBAAY3C,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcjC,UAAd,CAAnB,EAA8CsB,QAA9C,EAfY;AAgBxBkB,WAAO5C,IAAIuB,MAAJ,GAAaG,QAAb,EAhBiB;AAiBxBmB,WAAO7C,IAAIuB,MAAJ,GAAaG,QAAb,EAjBiB;AAkBxBoB,sBAAkB9C,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcpB,gBAAd,CAAnB,EAAoDS,QAApD,EAlBM;AAmBxBqB,wBAAoB/C,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAcnB,kBAAd,CAAnB,EAAsDQ,QAAtD,EAnBI;AAoBxBsB,sBAAkBhD,IAAIuB,MAAJ,GAAaY,KAAb,CAAmBC,OAAOC,MAAP,CAAc/B,gBAAd,CAAnB,EAAoDoB,QAApD,EApBM;AAqBxBuB,mBAAejD,IAAIkD,IAAJ,GAAWxB,QAAX,EArBS;AAsBxByB,iBAAanD,IAAIkD,IAAJ,GAAWxB,QAAX,EAtBW;AAuBxB0B,iBAAapD,IAAIkD,IAAJ,GAAWxB,QAAX,EAvBW;AAwBxB2B,cAAUrD,IAAIiC,MAAJ,GAAaP,QAAb,EAxBc;AAyBxB4B,oBAAgBtD,IAAIiC,MAAJ,GAAaP,QAAb,EAzBQ;AA0BxB6B,mBAAevD,IAAIiC,MAAJ,GAAaP,QAAb,EA1BS;AA2BxB8B,mBAAexD,IAAIiC,MAAJ,GAAaP,QAAb,EA3BS;AA4BxB+B,mBAAezD,IAAIiC,MAAJ,GAAaP,QAAb,EA5BS;AA6BxBgC,mBAAe1D,IAAIiC,MAAJ,GAAaP,QAAb,EA7BS;AA8BxBiC,4BAAwB3D,IAAIiC,MAAJ,GAAaP,QAAb,EA9BA;AA+BxBkC,uBAAmB5D,IAAIiC,MAAJ,GAAaP,QAAb,EA/BK;AAgCxBmC,0BAAsB7D,IAAIiC,MAAJ,GAAaP,QAAb,EAhCE;AAiCxBoC,8BAA0B9D,IAAIiC,MAAJ,GAAaP,QAAb,EAjCF;AAkCxB6C,mBAAevE,IAAIuB,MAAJ,GAAaG,QAAb,EAlCS;AAmCxB8C,iBAAaxE,IAAIuB,MAAJ,GAAaG,QAAb,EAnCW;AAoCxB+C,mBAAezE,IAAIkD,IAAJ,GAAWxB,QAAX,EApCS;AAqCxBqC,YAAQ/D,IAAIuB,MAAJ,GAAaG,QAAb,EArCgB;AAsCxBgD,eAAW1E,IAAIuB,MAAJ,GAAaG,QAAb,EAtCa;AAuCxBsC,YAAQhE,IAAIiE,OAAJ,GAAcvC,QAAd,EAvCgB;AAwCxBwC,yBAAqBlE,IAAIuB,MAAJ,GAAaG,QAAb,EAxCG;AAyCxByC,gBAAYnE,IAAIiE,OAAJ,GAAcvC,QAAd,EAzCY;AA0CxB0C,eAAWpE,IAAIiE,OAAJ,GAAcvC,QAAd,EA1Ca;AA2CxBiD,gBAAY3E,IAAIuB,MAAJ,GAAaC,QAAb;AA3CY,CAArB;;AA8CP,OAAO,MAAMoD,SAAS;AAClBtD,UAAM,EAAEuD,MAAMC,MAAR,EAAgBtD,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EADY;AAElBC,iBAAa,EAAEoD,MAAMC,MAAR,EAFK;AAGlBnD,mBAAe,EAAEkD,MAAMC,MAAR,EAHG;AAIlBlD,mBAAe,EAAEiD,MAAMC,MAAR,EAJG;AAKlBjD,kBAAc,EAAEgD,MAAMC,MAAR,EALI;AAMlBhD,yBAAqB,EAAE+C,MAAMC,MAAR,EANH,EAMqB;AACvC9C,sBAAkB,EAAE6C,MAAME,MAAR,EAPA;AAQlB7C,kBAAc;AACV2C,cAAMC,MADI;AAEVE,cAAM5C,OAAOC,MAAP,CAAcvB,YAAd,CAFI;AAGVmE,iBAASnE,aAAaoE,OAHZ;AAIV1D,kBAAU,CAAC,IAAD,EAAO,sBAAP;AAJA,KARI;AAclBO,kBAAc;AACV8C,cAAMC,MADI;AAEVE,cAAM5C,OAAOC,MAAP,CAAcxB,YAAd,CAFI;AAGVoE,iBAASpE,aAAaqE,OAHZ;AAIV1D,kBAAU,CAAC,IAAD,EAAO,sBAAP;AAJA,KAdI;AAoBlBc,mBAAe;AACXuC,cAAMC,MADK;AAEXE,cAAM5C,OAAOC,MAAP,CAAcrB,aAAd,CAFK;AAGXiE,iBAASjE,cAAckE,OAHZ;AAIX1D,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJC,KApBG;AA0BlBe,sBAAkB;AACdsC,cAAMC,MADQ;AAEdE,cAAM5C,OAAOC,MAAP,CAActB,gBAAd,CAFQ;AAGdkE,iBAASlE,iBAAiBmE,OAHZ;AAId1D,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJI,KA1BA;AAgClBgB,uBAAmB;AACfqC,cAAMC,MADS;AAEfE,cAAM5C,OAAOC,MAAP,CAAclB,iBAAd,CAFS;AAGf8D,iBAAS9D,kBAAkB+D,OAHZ;AAIf1D,kBAAU,CAAC,IAAD,EAAO,2BAAP;AAJK,KAhCD;AAsClBiB,sBAAkB,EAAEoC,MAAMlE,QAAR,EAAkBwE,KAAK,OAAvB,EAtCA;AAuClBzC,wBAAoB,EAAEmC,MAAMlE,QAAR,EAAkBwE,KAAK,SAAvB,EAvCF;AAwClBxC,gBAAY;AACRkC,cAAMC,MADE;AAERE,cAAM5C,OAAOC,MAAP,CAAcjC,UAAd,CAFE;AAGR6E,iBAAS7E,WAAWgF,GAHZ;AAIR5D,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJF,KAxCM;AA8ClBsB,sBAAkB;AACd+B,cAAMC,MADQ;AAEdE,cAAM5C,OAAOC,MAAP,CAAcpB,gBAAd,CAFQ;AAGdgE,iBAAShE,iBAAiBiE,OAHZ;AAId1D,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJI,KA9CA;AAoDlBuB,wBAAoB;AAChB8B,cAAMC,MADU;AAEhBE,cAAM5C,OAAOC,MAAP,CAAcnB,kBAAd,CAFU;AAGhB+D,iBAAS/D,mBAAmBgE,OAHZ;AAIhB1D,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJM,KApDF;AA0DlBwB,sBAAkB;AACd6B,cAAMC,MADQ;AAEdE,cAAM5C,OAAOC,MAAP,CAAc/B,gBAAd,CAFQ;AAGd2E,iBAAS3E,iBAAiB4E,OAHZ;AAId1D,kBAAU,CAAC,IAAD,EAAO,eAAP;AAJI,KA1DA;AAgElBoB,WAAO,EAAEiC,MAAMC,MAAR,EAhEW;AAiElBjC,WAAO,EAAEgC,MAAMC,MAAR,EAjEW;AAkElB7B,mBAAe,EAAE4B,MAAMQ,IAAR,EAlEG;AAmElBlC,iBAAa,EAAE0B,MAAMQ,IAAR,EAnEK;AAoElBjC,iBAAa,EAAEyB,MAAMQ,IAAR,EApEK;AAqElBhC,cAAU,EAAEwB,MAAME,MAAR,EArEQ;AAsElBzB,oBAAgB,EAAEuB,MAAME,MAAR,EAtEE;AAuElBxB,mBAAe,EAAEsB,MAAME,MAAR,EAvEG;AAwElBvB,mBAAe,EAAEqB,MAAME,MAAR,EAxEG;AAyElBtB,mBAAe,EAAEoB,MAAME,MAAR,EAzEG;AA0ElBrB,mBAAe,EAAEmB,MAAME,MAAR,EA1EG;AA2ElBpB,4BAAwB,EAAEkB,MAAME,MAAR,EA3EN;AA4ElBnB,uBAAmB,EAAEiB,MAAME,MAAR,EA5ED;AA6ElBlB,0BAAsB,EAAEgB,MAAME,MAAR,EA7EJ;AA8ElBjB,8BAA0B,EAAEe,MAAME,MAAR,EA9ER;AA+ElBR,mBAAe;AACXM,cAAMC,MADK;AAEXE,cAAM5C,OAAOC,MAAP,CAAcjB,aAAd,CAFK;AAGX6D,iBAAS7D,cAAckE,OAHZ;AAIX9D,kBAAU;AAJC,KA/EG;AAqFlBgD,iBAAa,EAAEK,MAAMlE,QAAR,EAAkBwE,KAAK,OAAvB,EArFK;AAsFlBV,mBAAe,EAAEI,MAAMQ,IAAR,EAtFG;AAuFlBtB,YAAQ,EAAEc,MAAMC,MAAR,EAvFU;AAwFlBJ,eAAW;AACPG,cAAMC,MADC;AAEPE,cAAM,CAAC,KAAD,EAAQ,SAAR,CAFC;AAGPC,iBAAS,KAHF;AAIPzD,kBAAU;AAJH,KAxFO;AA8FlBwC,YAAQ,EAAEa,MAAMU,OAAR,EAAiBN,SAAS,KAA1B,EAAiCzD,UAAU,CAAC,IAAD,EAAO,eAAP,CAA3C,EA9FU;AA+FlB0C,yBAAqB,EAAEW,MAAME,MAAR,EAAgBE,SAAS,GAAzB,EA/FH;AAgGlBO,6BAAyB,EAAEX,MAAME,MAAR,EAAgBE,SAAS,GAAzB,EAhGP;AAiGlBQ,yBAAqB,EAAEZ,MAAME,MAAR,EAAgBE,SAAS,GAAzB,EAjGH;AAkGlBS,oBAAgB,EAAEb,MAAMU,OAAR,EAAiBN,SAAS,KAA1B,EAAiCzD,UAAU,CAAC,IAAD,EAAO,eAAP,CAA3C,EAlGE;AAmGlB2C,gBAAY,EAAEU,MAAMU,OAAR,EAAiBN,SAAS,KAA1B,EAAiCzD,UAAU,CAAC,IAAD,EAAO,eAAP,CAA3C,EAnGM;AAoGlB4C,eAAW,EAAES,MAAMU,OAAR,EAAiBN,SAAS,KAA1B,EAAiCzD,UAAU,CAAC,IAAD,EAAO,eAAP,CAA3C,EApGO;AAqGlBmE,gBAAY,CAAC,EAAEd,MAAMlE,QAAR,EAAkBwE,KAAK,QAAvB,EAAD,CArGM;AAsGlBd,gBAAY,EAAEQ,MAAMlE,QAAR,EAAkBa,UAAU,IAA5B,EAAkC2D,KAAK,OAAvC,EAtGM;AAuGlBR,gBAAY,EAAEE,MAAMlE,QAAR,EAAkBwE,KAAK,OAAvB;AAvGM,CAAf;;AA0GP,MAAMS,UAAUrF,SAASsF,kBAAT,CAA4BC,OAA5C;AACA,MAAMC,UAAUxF,SAASyF,OAAzB;;AAEA,MAAMC,YAAY,IAAIvF,MAAJ,CAAWkE,MAAX,EAAmBmB,OAAnB,CAAlB;AACAE,UAAUC,GAAV,CAAc,YAAd,EAA4B,SAA5B;AACAD,UAAUE,MAAV,CAAiBjG,YAAjB;;AAEA,MAAMkG,UAAUnG,SAASoG,KAAT,CAAe,SAAf,EAA0BJ,SAA1B,CAAhB;AACA,IAAIL,OAAJ,EAAa;AAAEQ,YAAQE,UAAR,CAAmB9F,KAAnB;AAA4B;;AAE3C,eAAe4F,OAAf","file":"model.js","sourcesContent":["/* eslint-disable import/no-cycle */\n/**\n * @author 4Decoder\n * @property {ObjectId} id Vehicle Object Id primaryKey\n * @property {String} name Vehicle name e.g 1450 (required)\n * @property {String} description Vehicle description (required)\n * @property {String} engine_number Vehicle engine number (optional)\n * @property {String} chasis_number Vehicle chasis number  (optional)\n * @property {String} plate_number Vehicle plate number  (optional)\n * @property {String} registration_number Vehicle registration number  (optional)\n * @property {String} vehicle_make Vehicle vehicle_make or manufacturer (optional)\n * @property {Number} seating_capacity Vehicle seating capacity  (optional)\n * @property {String} vehicle_class Vehicle vehicle class. (required)\n * @property {String} vehicle_category Vehicle vehicle_category (required)\n * @property {String} vehicle_custodian Vehicle employee type (required)\n * @property {ObjectId} current_staff_id Vehicle staff id the vehicle is currenly assigned to\n * @property {ObjectId} current_partner_id Vehicle driver id the vehicle is currenly assigned to\n * @property {String} subsidiary Vehicle subsidiary (required)\n * @property {String} color Vehicle color  (optional)\n * @property {String} photo Vehicle photo url (optional)\n * @property {String} vehicle_type VEHICLE_TYPE\n * @property {String} vehicle_location Vehicle current state or vehicle_location (optional)\n * @property {String} vehicle_assignment Vehicle vehicle_assignment status (optional)\n * @property {String} asset_worthiness Vehicle asset worthiness (optional)\n * @property {Date} purchase_date Vehicle purchase date (optional)\n * @property {Date} launch_date Vehicle launch date (optional)\n * @property {Date} expiry_date Vehicle expire date (optional)\n * @property {Number} lifespan Vehicle lifespan in years (optional)\n * @property {Number} purchase_value Vehicle purchase value (optional)\n * @property {Number} opening_value Vehicle opening value (optional)\n * @property {Number} closing_value Vehicle closing value (optional)\n * @property {Number} salvage_value Vehicle salvage value (optional)\n * @property {Number} current_value Vehicle current value (optional)\n * @property {Number} total_depreciable_cost Vehicle total depreciable cost  (optional)\n * @property {Number} depreciation_rate Vehicle depreciation rate  (optional)\n * @property {Number} depreciation_expense Vehicle depreciation expense  (optional)\n * @property {Number} accumulated_depreciation Vehicle accumulated depreciation  (optional)\n * @property {String} record_status Vehicle record approval status (optional)\n * @property {ObjectId} approved_by Vehicle approved by staff who veted the record entry (optional)\n * @property {Date} approved_date Vehicle approved date after record entry (optional)\n * @property {String} remark Vehicle approval remark or any comment about record (optional)\n * @property {String} ownership Vehicle ownership current owner \"PMT|PARTNER\" (optional)\n * @property {Boolean} is_dto Vehicle is it for Partner-to-Owner scheme (optional)\n * @property {Number} dto_initial_deposit Vehicle DTO_INITIAL_DEPOSIT (optional)\n * @property {Number} dto_maintenance_balance Vehicle DTO current balance (prohibited)\n * @property {Number} dto_repayment_total Vehicle DTO cummulative repayment (prohibited)\n * @property {Boolean} is_healthy Vehicle is it healthy  or brokendown (optional)\n * @property {Boolean} is_active Vehicle is it active or retired  (optional)\n * @description Vehicle holds record of all cities with terminal_list\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { VEHICLE, SUBSIDIARY, EMPLOYEE_TYPE, ASSET_WORTHINESS, DATABASE } from \"../../../constants\";\nimport table from \"./table\";\nimport Staff from \"../staff/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nconst {\n    VEHICLE_MAKE,\n    VEHICLE_TYPE,\n    VEHICLE_CATEGORY,\n    VEHICLE_CLASS,\n    VEHICLE_LOCATION,\n    VEHICLE_ASSIGNMENT,\n    VEHICLE_CUSTODIAN,\n} = VEHICLE;\n\nconst { RECORD_STATUS } = DATABASE;\n\nexport const schemaCreate = {\n    name: Joi.string().required(),\n    description: Joi.string().optional(),\n    engine_number: Joi.string().optional(),\n    chasis_number: Joi.string().optional(),\n    plate_number: Joi.string().optional(),\n    registration_number: Joi.string().optional(),\n    vehicle_make: Joi.string().optional(),\n    seating_capacity: Joi.number().optional(),\n    vehicle_type: Joi.string().valid(Object.values(VEHICLE_TYPE)).optional(),\n    vehicle_class: Joi.string().valid(Object.values(VEHICLE_CLASS)).required(),\n    vehicle_category: Joi.string().valid(Object.values(VEHICLE_CATEGORY)).required(),\n    vehicle_custodian: Joi.string().valid(Object.values(EMPLOYEE_TYPE)).optional(),\n    current_staff_id: Joi.string().optional(),\n    current_partner_id: Joi.string().optional(),\n    subsidiary: Joi.string().valid(Object.values(SUBSIDIARY)).required(),\n    color: Joi.string().optional(),\n    photo: Joi.string().optional(),\n    vehicle_location: Joi.string().valid(Object.values(VEHICLE_LOCATION)).optional(),\n    vehicle_assignment: Joi.string().valid(Object.values(VEHICLE_ASSIGNMENT)).optional(),\n    asset_worthiness: Joi.string().valid(Object.values(ASSET_WORTHINESS)).optional(),\n    purchase_date: Joi.date().optional(),\n    launch_date: Joi.date().optional(),\n    expiry_date: Joi.date().optional(),\n    lifespan: Joi.number().optional(),\n    purchase_value: Joi.number().optional(),\n    opening_value: Joi.number().optional(),\n    closing_value: Joi.number().optional(),\n    salvage_value: Joi.number().optional(),\n    current_value: Joi.number().optional(),\n    total_depreciable_cost: Joi.number().optional(),\n    depreciation_rate: Joi.number().optional(),\n    depreciation_expense: Joi.number().optional(),\n    accumulated_depreciation: Joi.number().optional(),\n    remark: Joi.string().optional(),\n    is_dto: Joi.boolean().required(),\n    dto_initial_deposit: Joi.string().optional(),\n    is_healthy: Joi.boolean().optional(),\n    is_active: Joi.boolean().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const schemaUpdate = {\n    name: Joi.string().optional(),\n    description: Joi.string().optional(),\n    engine_number: Joi.string().optional(),\n    chasis_number: Joi.string().optional(),\n    plate_number: Joi.string().optional(),\n    registration_number: Joi.string().optional(),\n    vehicle_make: Joi.string().optional(),\n    seating_capacity: Joi.number().optional(),\n    vehicle_type: Joi.string().valid(Object.values(VEHICLE_TYPE)).optional(),\n    vehicle_class: Joi.string().valid(Object.values(VEHICLE_CLASS)).optional(),\n    vehicle_category: Joi.string().valid(Object.values(VEHICLE_CATEGORY)).optional(),\n    vehicle_custodian: Joi.string().valid(Object.values(EMPLOYEE_TYPE)).optional(),\n    current_staff_id: Joi.string().optional(),\n    current_partner_id: Joi.string().optional(),\n    subsidiary: Joi.string().valid(Object.values(SUBSIDIARY)).optional(),\n    color: Joi.string().optional(),\n    photo: Joi.string().optional(),\n    vehicle_location: Joi.string().valid(Object.values(VEHICLE_LOCATION)).optional(),\n    vehicle_assignment: Joi.string().valid(Object.values(VEHICLE_ASSIGNMENT)).optional(),\n    asset_worthiness: Joi.string().valid(Object.values(ASSET_WORTHINESS)).optional(),\n    purchase_date: Joi.date().optional(),\n    launch_date: Joi.date().optional(),\n    expiry_date: Joi.date().optional(),\n    lifespan: Joi.number().optional(),\n    purchase_value: Joi.number().optional(),\n    opening_value: Joi.number().optional(),\n    closing_value: Joi.number().optional(),\n    salvage_value: Joi.number().optional(),\n    current_value: Joi.number().optional(),\n    total_depreciable_cost: Joi.number().optional(),\n    depreciation_rate: Joi.number().optional(),\n    depreciation_expense: Joi.number().optional(),\n    accumulated_depreciation: Joi.number().optional(),\n    record_status: Joi.string().optional(),\n    approved_by: Joi.string().optional(),\n    approved_date: Joi.date().optional(),\n    remark: Joi.string().optional(),\n    ownership: Joi.string().optional(),\n    is_dto: Joi.boolean().optional(),\n    dto_initial_deposit: Joi.string().optional(),\n    is_healthy: Joi.boolean().optional(),\n    is_active: Joi.boolean().optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const schema = {\n    name: { type: String, required: [true, \"Why no input?\"] },\n    description: { type: String },\n    engine_number: { type: String },\n    chasis_number: { type: String },\n    plate_number: { type: String },\n    registration_number: { type: String }, // local authority regno\n    seating_capacity: { type: Number },\n    vehicle_type: {\n        type: String,\n        enum: Object.values(VEHICLE_TYPE),\n        default: VEHICLE_TYPE.UNKNOWN,\n        required: [true, \"Why no vehicle type?\"],\n    },\n    vehicle_make: {\n        type: String,\n        enum: Object.values(VEHICLE_MAKE),\n        default: VEHICLE_MAKE.UNKNOWN,\n        required: [true, \"Why no vehicle make?\"],\n    },\n    vehicle_class: {\n        type: String,\n        enum: Object.values(VEHICLE_CLASS),\n        default: VEHICLE_CLASS.UNKNOWN,\n        required: [true, \"Why no input?\"],\n    },\n    vehicle_category: {\n        type: String,\n        enum: Object.values(VEHICLE_CATEGORY),\n        default: VEHICLE_CATEGORY.UNKNOWN,\n        required: [true, \"Why no input?\"],\n    },\n    vehicle_custodian: {\n        type: String,\n        enum: Object.values(VEHICLE_CUSTODIAN),\n        default: VEHICLE_CUSTODIAN.UNKNOWN,\n        required: [true, \"Why no vehicle_custodian?\"],\n    },\n    current_staff_id: { type: ObjectId, ref: \"Staff\" },\n    current_partner_id: { type: ObjectId, ref: \"Partner\" },\n    subsidiary: {\n        type: String,\n        enum: Object.values(SUBSIDIARY),\n        default: SUBSIDIARY.PMT,\n        required: [true, \"Why no input?\"],\n    },\n    vehicle_location: {\n        type: String,\n        enum: Object.values(VEHICLE_LOCATION),\n        default: VEHICLE_LOCATION.UNKNOWN,\n        required: [true, \"Why no input?\"],\n    },\n    vehicle_assignment: {\n        type: String,\n        enum: Object.values(VEHICLE_ASSIGNMENT),\n        default: VEHICLE_ASSIGNMENT.UNKNOWN,\n        required: [true, \"Why no input?\"],\n    },\n    asset_worthiness: {\n        type: String,\n        enum: Object.values(ASSET_WORTHINESS),\n        default: ASSET_WORTHINESS.UNKNOWN,\n        required: [true, \"Why no input?\"],\n    },\n    color: { type: String },\n    photo: { type: String },\n    purchase_date: { type: Date },\n    launch_date: { type: Date },\n    expiry_date: { type: Date },\n    lifespan: { type: Number },\n    purchase_value: { type: Number },\n    opening_value: { type: Number },\n    closing_value: { type: Number },\n    salvage_value: { type: Number },\n    current_value: { type: Number },\n    total_depreciable_cost: { type: Number },\n    depreciation_rate: { type: Number },\n    depreciation_expense: { type: Number },\n    accumulated_depreciation: { type: Number },\n    record_status: {\n        type: String,\n        enum: Object.values(RECORD_STATUS),\n        default: RECORD_STATUS.PENDING,\n        required: true,\n    },\n    approved_by: { type: ObjectId, ref: \"Staff\" },\n    approved_date: { type: Date },\n    remark: { type: String },\n    ownership: {\n        type: String,\n        enum: [\"PMT\", \"PARTNER\"],\n        default: \"PMT\",\n        required: true,\n    },\n    is_dto: { type: Boolean, default: false, required: [true, \"Why no input?\"] },\n    dto_initial_deposit: { type: Number, default: 0.0 },\n    dto_maintenance_balance: { type: Number, default: 0.0 },\n    dto_repayment_total: { type: Number, default: 0.0 },\n    is_dto_settled: { type: Boolean, default: false, required: [true, \"Why no input?\"] },\n    is_healthy: { type: Boolean, default: false, required: [true, \"Why no input?\"] },\n    is_active: { type: Boolean, default: false, required: [true, \"Why no input?\"] },\n    rating_ids: [{ type: ObjectId, ref: \"Rating\" }],\n    created_by: { type: ObjectId, required: true, ref: \"Staff\" },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\nconst preload = DATABASE.PRELOAD_TABLE_DATA.DEFAULT;\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"vehicle\");\nnewSchema.plugin(mongoose_csv);\n\nconst Vehicle = mongoose.model(\"Vehicle\", newSchema);\nif (preload) { Vehicle.insertMany(table); }\n\nexport default Vehicle;\n"]}