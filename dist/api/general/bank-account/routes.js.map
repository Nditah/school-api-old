{"version":3,"sources":["../../../../src/api/general/bank-account/routes.js"],"names":["router","express","Router","get","checkAuth","isValidStaff","fetchRecord","post","createRecord","put","updateRecord","delete","deleteRecord"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEA;;;;;;;;;;;;;;;;AAgBAF,OAAOG,GAAP,CAAW,gBAAX,EAA6B,CAACC,wBAAD,EAAYC,2BAAZ,CAA7B,EAAwDC,uBAAxD;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BAN,OAAOO,IAAP,CAAY,gBAAZ,EAA8B,CAACH,wBAAD,EAAYC,2BAAZ,CAA9B,EAAyDG,wBAAzD;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCAR,OAAOS,GAAP,CAAW,0BAAX,EAAuC,CAACL,wBAAD,EAAYC,2BAAZ,CAAvC,EAAkEK,wBAAlE;;AAEA;;;;;;;;;;AAUAV,OAAOW,MAAP,CAAc,0BAAd,EAA0C,CAACP,wBAAD,EAAYC,2BAAZ,CAA1C,EAAqEO,wBAArE;;kBAEeZ,M","file":"routes.js","sourcesContent":["import express from \"express\";\r\nimport { checkAuth, isValidStaff } from \"../../../middleware/authorization\";\r\nimport { fetchRecord, createRecord, updateRecord, deleteRecord } from \"./controller\";\r\n\r\nconst router = express.Router();\r\n\r\n/**\r\n * @api {get} /api/v1/bank-accounts?id={recordId} Retrieve one or all records\r\n * @apiName RetrieveBankAccount\r\n * @apiGroup BankAccount\r\n * @apiExample {curl} Example usage for retieving a single record:\r\n *      curl -i api/bank-accounts?\r\n * @apiHeader {String} Authorization authorization token\r\n * @apiParam {Object} filter query condition (optional)\r\n * @apiParam {Number} skip Number of records to offset by (optional)\r\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\r\n * @apiParam {String} sort how records would be arranged in alphabet (optional)\r\n * @apiParam {String} projection list of record's attributes to retrieve (optional)\r\n * @apiDescription Records of Corporate Bank-accounts for all terminals and management operations\r\n * @apiSuccess {Object[]} Array of Objects of records.\r\n * @apiError {Object} 400 Some parameters may contain invalid values.\r\n */\r\nrouter.get(\"/bank-accounts\", [checkAuth, isValidStaff], fetchRecord);\r\n\r\n/**\r\n * @api {post} /api/v1/bank-accounts Create bank-accounts\r\n * @apiName CreateBank-Account\r\n * @apiGroup BankAccount\r\n * @apiHeader {String} Authorization authorization token\r\n * @apiParam {String} name Bank-Account name\r\n * @apiParam {String} signatory Bank-Account signatory (optional)\r\n * @apiParam {String} subsidiary Bank-Account subsidiary (required)\r\n * @apiParam {Number} terminal_id Bank-Account terminal_id (required)\r\n * @apiParam {Number} bank_id Bank-Account bank_id (required)\r\n * @apiParam {String} account_name Bank-Account account_name (required)\r\n * @apiParam {Number} account_number Bank-Account account_number (required)\r\n * @apiParam {String} account_type Bank-Account account_type (BANK_ACCOUNT_TYPE) (required)\r\n * @apiParam {String} usage Bank-Account usage (BANK_ACCOUNT_USAGE) (required)\r\n * @apiParam {String} category Bank-Account category (\"INCOME\", \"EXPENSES\", \"BOTH\") (required)\r\n * @apiParam {String} description Bank-Account description (required)\r\n * @apiParam {String} country_iso2 Bank-Account country_iso2 (required)\r\n * @apiParam {String} currency Bank-Account currency (required)\r\n * @apiParam {Date} opening_date Bank-Account opening_date (optional)\r\n * @apiParam {Date} closing_date Bank-Account closing_date (optional)\r\n * @apiParam {Number} opening_balance Bank-Account opening_balance (optional)\r\n * @apiParam {Number} closing_balance Bank-Account closing_balance (optional)\r\n * @apiParam {Number} lien_amount Bank-Account lien_amount (optional)\r\n * @apiParam {Number} available_balance Bank-Account available_balance (optional)\r\n * @apiParam {Number} total_credit Bank-Account total_credit (optional)\r\n * @apiParam {Number} total_debit Bank-Account total_debit (optional)\r\n * @apiSuccess {Object} Bank-Account Bank-Account's data.\r\n * @apiError {Object} 400 Some parameters may contain invalid values.\r\n * @apiError 404 Bank-Account not found.\r\n * @apiError 401 master access only.\r\n */\r\nrouter.post(\"/bank-accounts\", [checkAuth, isValidStaff], createRecord);\r\n\r\n/**\r\n * @api {put} /api/v1/bank-accounts/{recordId} Update bank-accounts\r\n * @apiName UpdateBank-Account\r\n * @apiGroup BankAccount\r\n * @apiHeader {String} Authorization authorization token\r\n * @apiParam {String} recordId required record ObjectId\r\n * @apiParam {String} name Bank-Account name\r\n * @apiParam {String} signatory Bank-Account signatory (optional)\r\n * @apiParam {String} subsidiary Bank-Account subsidiary (optional)\r\n * @apiParam {Number} terminal_id Bank-Account terminal_id (optional)\r\n * @apiParam {Number} bank_id Bank-Account bank_id (optional)\r\n * @apiParam {String} account_name Bank-Account account_name (optional)\r\n * @apiParam {Number} account_number Bank-Account account_number (optional)\r\n * @apiParam {String} account_type Bank-Account account_type (BANK_ACCOUNT_TYPE) (optional)\r\n * @apiParam {String} usage Bank-Account usage (BANK_ACCOUNT_USAGE) (optional)\r\n * @apiParam {String} category Bank-Account category (\"INCOME\", \"EXPENSES\", \"BOTH\") (optional)\r\n * @apiParam {String} description Bank-Account description (optional)\r\n * @apiParam {String} country_iso2 Bank-Account country_iso2 (optional)\r\n * @apiParam {String} currency Bank-Account currency (optional)\r\n * @apiParam {Date} opening_date Bank-Account opening_date (optional)\r\n * @apiParam {Date} closing_date Bank-Account closing_date (optional)\r\n * @apiParam {Number} opening_balance Bank-Account opening_balance (optional)\r\n * @apiParam {Number} closing_balance Bank-Account closing_balance (optional)\r\n * @apiParam {Number} lien_amount Bank-Account lien_amount (optional)\r\n * @apiParam {Number} available_balance Bank-Account available_balance (optional)\r\n * @apiParam {Number} total_credit Bank-Account total_credit (optional)\r\n * @apiParam {Number} total_debit Bank-Account total_debit (optional)\r\n * @apiSuccess {Object} Bank-Account Bank-Account's data.\r\n * @apiError {Object} 400 Some parameters may contain invalid values.\r\n * @apiError 404 Bank-Account not found.\r\n * @apiError 401 master access only.\r\n */\r\nrouter.put(\"/bank-accounts/:recordId\", [checkAuth, isValidStaff], updateRecord);\r\n\r\n/**\r\n * @api {delete} /api/v1/bank-accounts/{recordId} Delete bank-accounts\r\n * @apiName DeleteBank-Account\r\n * @apiGroup BankAccount\r\n * @apiHeader {String} Authorization authorization token\r\n * @apiParam {String} recordId required record ObjectId\r\n * @apiSuccess (Success 204) 204 No Content.\r\n * @apiError 404 Bank-Account not found.\r\n * @apiError 401 master access only.\r\n */\r\nrouter.delete(\"/bank-accounts/:recordId\", [checkAuth, isValidStaff], deleteRecord);\r\n\r\nexport default router;\r\n"]}