{"version":3,"sources":["../../../../src/api/general/staff/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaLogin","email","Joi","string","trim","optional","phone","otp","password","type","valid","schemaCreate","title","surname","given_name","gender","birth_date","date","marital_status","Object","values","MARITAL_STATUS","phone_personal","address","state","county","staff_type","EMPLOYEE_TYPE","classe","subject","kin","kin_phone","kin_address","guarantor1","guarantor1_phone","guarantor1_address","guarantor2","guarantor2_phone","guarantor2_address","profession","qualification","employment_status","EMPLOYMENT_STATUS","tax","number","basic_salary","bonus","entertainment_allowance","house_allowance","lunch_allowance","medical_allowance","transport_allowance","utility_allowance","welfare_allowance","pension","bank_name","bank_account_number","bank_account_name","rank","office","role","array","subsidiary","SUBSIDIARY","remark","photo","is_salary_payable","boolean","is_document_complete","approved_by","approved_date","disengaged_by","disengaged_date","created_by","required","schemaUpdate","updated_by","schema","String","enum","GENDER","default","MALE","Date","unique","alias","lowercase","match","ref","Number","Boolean","last_login","preload","DATABASE","PRELOAD_TABLE_DATA","DEFAULT","options","OPTIONS","newSchema","index","set","plugin","mongoose_csv","Staff","model","findOne","then","user","console","log","table","newRecord","save","catch","__dirname","err","message","insertMany"],"mappings":"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","file":"model.js","sourcesContent":["/* eslint-disable import/no-cycle */\n/**\n * @author 4Decoder\n * @property {ObjectId} id Staff ObjectId primaryKey\n * @property {String} title Staff title (optional)\n * @property {String} surname Staff surname (optional)\n * @property {String} given_name Staff surname (optional)\n * @property {String} gender Staff gender (optional)\n * @property {Date} birth_date Staff birth_date (optional)\n * @property {String} marital_status Staff marital_status (optional)\n * @property {String} phone Staff office phone (optional)\n * @property {String} phone_personal Staff phone_personal (optional)\n * @property {String} address Staff address (optional)\n * @property {ObjectId} state Staff state (optional)\n * @property {ObjectId} county Staff county (optional)\n * @property {String} email Staff email (optional)\n * @property {String} staff_type Staff staff_type (optional)\n * @property {ObjectId} classe Staff classe (optional)\n * @property {ObjectId} subject Staff subject (optional)\n * @property {String} password Staff password (optional)\n * @property {String} kin Staff kin (required)\n * @property {String} kin_phone Staff kin_phone (required)\n * @property {String} kin_address Staff kin_address (required)\n * @property {String} guarantor1 Staff guarantor1 (required)\n * @property {String} guarantor1_phone Staff guarantor1_phone (required)\n * @property {String} guarantor1_address Staff guarantor1_address (required)\n * @property {String} guarantor2 Staff guarantor2 (optional)\n * @property {String} guarantor2_phone Staff guarantor2_phone (optional)\n * @property {String} guarantor2_address Staff guarantor2_address (optional)\n * @property {String} profession Staff profession (optional)\n * @property {String} qualification Staff qualification (optional)\n * @property {String} employment_status Staff employment_status (required)\n * @property {Number} tax Staff tax (optional)\n * @property {Number} basic_salary Staff basic_salary (optional)\n * @property {Number} bonus Staff bonus (optional)\n * @property {Number} entertainment_allowance Staff entertainment_allowance (optional)\n * @property {Number} house_allowance Staff house_allowance (optional)\n * @property {Number} lunch_allowance Staff lunch_allowance (optional)\n * @property {Number} medical_allowance Staff medical_allowance (optional)\n * @property {Number} transport_allowance Staff transport_allowance (optional)\n * @property {Number} utility_allowance Staff utility_allowance (optional)\n * @property {Number} welfare_allowance Staff welfare_allowance (optional)\n * @property {Number} pension Staff pension (optional)\n * @property {Number} assurance Staff assurance (optional)\n * @property {String} bank_name Staff bank_name (optional)\n * @property {String} bank_account_number Staff bank_account_number (optional)\n * @property {String} bank_account_name Staff bank_account_name (optional)\n * @property {String} rank Staff rank (optional)\n * @property {ObjectId} office Staff office (required)\n * @property {ObjectId} role Staff role is an array of office duties (required)\n * @property {String} subsidiary Staff subsidiary (required)\n * @property {String} remark Staff remark (optional)\n * @property {String} photo Staff photo (optional)\n * @property {Boolean} is_salary_payable Staff is_salary_payable (optional)\n * @property {Boolean} is_document_complete Staff is_document_complete (optional)\n * @property {ObjectId} approved_by Staff approved_by (optional)\n * @property {Date} approved_date Staff approved_date (optional)\n * @property {ObjectId} disengaged_by Staff disengaged_by (optional)\n * @property {Date} disengaged_date Staff disengaged_date (optional)\n * @property {ObjectId} created_by Staff record created by\n * @property {ObjectId} updated_by Staff record modified by\n * @description Staff holds record of all staffs in the school\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE, GENDER, MARITAL_STATUS, EMPLOYMENT_STATUS, SUBSIDIARY, EMPLOYEE_TYPE } from \"../../../constants\";\nimport table from \"./table\";\nimport State from \"../state/model\";\nimport County from \"../county/model\";\nimport Office from \"../office/model\";\nimport Classe from \"../classe/model\";\nimport Subject from \"../subject/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const schemaLogin = {\n    email: Joi.string().trim().email().optional(),\n    phone: Joi.string().optional(),\n    otp: Joi.string().optional(),\n    password: Joi.string().optional(),\n    type: Joi.string().valid([\"EMAIL\", \"PHONE\", \"OTP\"]).optional(),\n};\n\nexport const schemaCreate = {\n    title: Joi.string().optional(),\n    surname: Joi.string().optional(),\n    given_name: Joi.string().optional(),\n    gender: Joi.string().optional(),\n    birth_date: Joi.date().optional(),\n    marital_status: Joi.string().trim().valid(Object.values(MARITAL_STATUS)).optional(),\n    phone: Joi.string().optional(),\n    phone_personal: Joi.string().optional(),\n    address: Joi.string().optional(),\n    state: Joi.string().optional(),\n    county: Joi.string().optional(),\n    email: Joi.string().trim().email().optional(),\n    staff_type: Joi.string().trim().valid(Object.values(EMPLOYEE_TYPE)).optional(),\n    classe: Joi.string().trim().optional(),\n    subject: Joi.string().trim().optional(),\n    password: Joi.string().optional(),\n    kin: Joi.string().optional(),\n    kin_phone: Joi.string().optional(),\n    kin_address: Joi.string().optional(),\n    guarantor1: Joi.string().optional(),\n    guarantor1_phone: Joi.string().optional(),\n    guarantor1_address: Joi.string().optional(),\n    guarantor2: Joi.string().optional(),\n    guarantor2_phone: Joi.string().optional(),\n    guarantor2_address: Joi.string().optional(),\n    profession: Joi.string().optional(),\n    qualification: Joi.string().optional(),\n    employment_status: Joi.string().trim().valid(Object.values(EMPLOYMENT_STATUS)).optional(),\n    tax: Joi.number().optional(),\n    basic_salary: Joi.number().optional(),\n    bonus: Joi.number().optional(),\n    entertainment_allowance: Joi.number().optional(),\n    house_allowance: Joi.number().optional(),\n    lunch_allowance: Joi.number().optional(),\n    medical_allowance: Joi.number().optional(),\n    transport_allowance: Joi.number().optional(),\n    utility_allowance: Joi.number().optional(),\n    welfare_allowance: Joi.number().optional(),\n    pension: Joi.number().optional(),\n    bank_name: Joi.string().trim().optional(),\n    bank_account_number: Joi.number().optional(),\n    bank_account_name: Joi.string().optional(),\n    rank: Joi.string().optional(),\n    office: Joi.string().optional(),\n    role: Joi.array().optional(),\n    subsidiary: Joi.string().trim().valid(Object.values(SUBSIDIARY)).optional(),\n    remark: Joi.string().optional(),\n    photo: Joi.string().optional(),\n    is_salary_payable: Joi.boolean().optional(),\n    is_document_complete: Joi.boolean().optional(),\n    approved_by: Joi.string().optional(),\n    approved_date: Joi.date().optional(),\n    disengaged_by: Joi.string().optional(),\n    disengaged_date: Joi.date().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const schemaUpdate = {\n    title: Joi.string().optional(),\n    surname: Joi.string().optional(),\n    given_name: Joi.string().optional(),\n    gender: Joi.string().optional(),\n    birth_date: Joi.date().optional(),\n    marital_status: Joi.string().trim().valid(Object.values(MARITAL_STATUS)).optional(),\n    phone: Joi.string().optional(),\n    phone_personal: Joi.string().optional(),\n    address: Joi.string().optional(),\n    state: Joi.string().optional(),\n    county: Joi.string().optional(),\n    email: Joi.string().trim().email().optional(),\n    staff_type: Joi.string().trim().valid(Object.values(EMPLOYEE_TYPE)).optional(),\n    classe: Joi.string().trim().optional(),\n    subject: Joi.string().trim().optional(),\n    password: Joi.string().optional(),\n    kin: Joi.string().optional(),\n    kin_phone: Joi.string().optional(),\n    kin_address: Joi.string().optional(),\n    guarantor1: Joi.string().optional(),\n    guarantor1_phone: Joi.string().optional(),\n    guarantor1_address: Joi.string().optional(),\n    guarantor2: Joi.string().optional(),\n    guarantor2_phone: Joi.string().optional(),\n    guarantor2_address: Joi.string().optional(),\n    profession: Joi.string().optional(),\n    qualification: Joi.string().optional(),\n    employment_status: Joi.string().trim().valid(Object.values(EMPLOYMENT_STATUS)).optional(),\n    tax: Joi.number().optional(),\n    basic_salary: Joi.number().optional(),\n    bonus: Joi.number().optional(),\n    entertainment_allowance: Joi.number().optional(),\n    house_allowance: Joi.number().optional(),\n    lunch_allowance: Joi.number().optional(),\n    medical_allowance: Joi.number().optional(),\n    transport_allowance: Joi.number().optional(),\n    utility_allowance: Joi.number().optional(),\n    welfare_allowance: Joi.number().optional(),\n    pension: Joi.number().optional(),\n    bank_name: Joi.string().trim().optional(),\n    bank_account_number: Joi.number().optional(),\n    bank_account_name: Joi.string().optional(),\n    rank: Joi.string().optional(),\n    office: Joi.string().optional(),\n    role: Joi.array().optional(),\n    subsidiary: Joi.string().trim().valid(Object.values(SUBSIDIARY)).optional(),\n    remark: Joi.string().optional(),\n    photo: Joi.string().optional(),\n    is_salary_payable: Joi.boolean().optional(),\n    is_document_complete: Joi.boolean().optional(),\n    approved_by: Joi.string().optional(),\n    approved_date: Joi.date().optional(),\n    disengaged_by: Joi.string().optional(),\n    disengaged_date: Joi.date().optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const schema = {\n    title: { type: String },\n    surname: { type: String, required: true },\n    given_name: { type: String, required: true },\n    gender: {\n        type: String,\n        enum: Object.values(GENDER),\n        default: GENDER.MALE,\n        required: [false, \"Why no gender?\"],\n    },\n    birth_date: { type: Date, required: [false, \"Why no birth_date?\"] },\n    marital_status: {\n        type: String,\n        enum: Object.values(MARITAL_STATUS),\n        required: [false, \"Why no marital_status?\"],\n    },\n    phone: {\n        type: String,\n        required: [false, \"Why no offical phone?\"],\n        unique: true,\n        alias: \"phone_office\",\n    },\n    phone_personal: {\n        type: String,\n        required: [false, \"Why no personal phone?\"],\n        alias: \"phone_home\",\n    },\n    address: { type: String },\n    state: { type: String, required: [false, \"Why no State?\"] },\n    county: { type: String, required: [false, \"Why no Country?\"] },\n    email: {\n        type: String,\n        trim: true,\n        lowercase: true,\n        unique: true,\n        // eslint-disable-next-line no-useless-escape\n        match: [/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Please fill a valid email address\"],\n    },\n    staff_type: {\n        type: String,\n        enum: Object.values(EMPLOYEE_TYPE),\n        required: [false, \"Why no Type?\"],\n    },\n    classe: { type: ObjectId, ref: \"Classe\" },\n    subject: { type: ObjectId, ref: \"Subject\" },\n    password: { type: String },\n    kin: { type: String, required: [false, \"Why no input?\"] },\n    kin_phone: { type: String, required: [false, \"Why no input?\"] },\n    kin_address: { type: String, required: [false, \"Why no input?\"] },\n    guarantor1: { type: String, required: [false, \"Why no input?\"] },\n    guarantor1_phone: { type: String, required: [false, \"Why no input?\"] },\n    guarantor1_address: { type: String, required: [false, \"Why no input?\"] },\n    guarantor2: { type: String },\n    guarantor2_phone: { type: String },\n    guarantor2_address: { type: String },\n    profession: { type: String },\n    qualification: { type: String },\n    employment_status: {\n        type: String,\n        enum: Object.values(EMPLOYMENT_STATUS),\n        required: [false, \"Why no input?\"],\n    },\n    tax: { type: Number, default: 0.0 },\n    basic_salary: { type: Number, default: 0.0 },\n    bonus: { type: Number, default: 0.0 },\n    entertainment_allowance: { type: Number, default: 0.0 },\n    house_allowance: { type: Number, default: 0.0 },\n    lunch_allowance: { type: Number, default: 0.0 },\n    medical_allowance: { type: Number, default: 0.0 },\n    transport_allowance: { type: Number, default: 0.0 },\n    utility_allowance: { type: Number, default: 0.0 },\n    welfare_allowance: { type: Number, default: 0.0 },\n    pension: { type: Number, default: 0.0 },\n    bank_name: { type: String },\n    bank_account_number: { type: Number },\n    bank_account_name: { type: String },\n    rank: { type: String },\n    office: { type: ObjectId, ref: \"Office\", required: [false, \"Why no input?\"] },\n    role: [{ type: ObjectId, ref: \"Office\", required: [false, \"Why no input?\"] }],\n    subsidiary: {\n        type: String,\n        enum: Object.values(SUBSIDIARY),\n        required: [false, \"Why no input?\"],\n    },\n    remark: { type: String },\n    photo: { type: String },\n    is_salary_payable: { type: Boolean, default: false, required: [false, \"Why no input?\"] },\n    is_document_complete: { type: Boolean, default: false, required: [false, \"Why no input?\"] },\n    approved_by: { type: ObjectId, ref: \"Staff\" },\n    approved_date: { type: Date },\n    disengaged_by: { type: ObjectId, ref: \"Staff\" },\n    disengaged_date: { type: Date },\n    last_login: { type: Date },\n    created_by: { type: ObjectId, ref: \"Staff\", required: true },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\nconst preload = DATABASE.PRELOAD_TABLE_DATA.DEFAULT;\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.index({ phone: 1, email: 1 }, { unique: true });\nnewSchema.set(\"collection\", \"staff\");\nnewSchema.plugin(mongoose_csv);\n\nconst Staff = mongoose.model(\"Staff\", newSchema);\n\nStaff.findOne({ email: \"admin@royalacademy.ng\" })\n    .then((user) => {\n        if (!user) {\n            console.log(table[ 0 ]);\n            const newRecord = new Staff(table[ 0 ]);\n            newRecord.save();\n            delete table[ 0 ];\n        }\n    })\n    .catch(err => console.log(__dirname, err.message));\n\nif (preload) { Staff.insertMany(table); }\n\nexport default Staff;\n"]}