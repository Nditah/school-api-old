{"version":3,"sources":["../../../../src/api/general/multimedia/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","name","Joi","string","trim","required","url","created_by","schemaUpdate","updated_by","schema","mysql_id","type","Number","String","ref","preload","DATABASE","PRELOAD_TABLE_DATA","DEFAULT","options","OPTIONS","newSchema","set","Image","model","insertMany","table"],"mappings":";;;;;;;AASA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;;;AAJA;AAXA;;;;;;;;;IAiBQA,M,GAAWC,kB,CAAXD,M;IACAE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME,sCAAe;AACxBC,UAAMC,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EADkB;AAExBC,SAAKJ,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EAFmB;AAGxB;AACAE,gBAAYL,cAAIC,MAAJ,GAAaE,QAAb;AAJY,CAArB;;AAOA,IAAMG,sCAAe;AACxBP,UAAMC,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EADkB;AAExBC,SAAKJ,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EAFmB;AAGxBI,gBAAYP,cAAIC,MAAJ,GAAaE,QAAb;AAHY,CAArB;;AAMA,IAAMK,0BAAS;AAClBC,cAAU,EAAEC,MAAMC,MAAR,EADQ;AAElBZ,UAAM,EAAEW,MAAME,MAAR,EAAgBT,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAFY;AAGlBC,SAAK,EAAEM,MAAME,MAAR,EAAgBT,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAHa;AAIlBE,gBAAY,EAAEK,MAAMd,QAAR,EAAkBO,UAAU,IAA5B,EAAkCU,KAAK,OAAvC,EAJM;AAKlBN,gBAAY,EAAEG,MAAMd,QAAR,EAAkBiB,KAAK,OAAvB;AALM,CAAf;;AAQP,IAAMC,UAAUC,oBAASC,kBAAT,CAA4BC,OAA5C;AACA,IAAMC,UAAUH,oBAASI,OAAzB;;AAEA,IAAMC,YAAY,IAAI1B,MAAJ,CAAWc,MAAX,EAAmBU,OAAnB,CAAlB;AACAE,UAAUC,GAAV,CAAc,YAAd,EAA4B,OAA5B;;AAEA,IAAMC,QAAQ3B,mBAAS4B,KAAT,CAAe,OAAf,EAAwBH,SAAxB,CAAd;;AAEA,IAAIN,OAAJ,EAAa;AAAEQ,UAAME,UAAN,CAAiBC,eAAjB;AAA0B;;kBAE1BH,K","file":"model.js","sourcesContent":["/**\n * @author 4Decoder\n * @property {Number} id Image primaryKey\n * @property {String} name Image name\n * @property {String} url The Image url absolute-path\n * @property {Number} created_by Image record created by\n * @property {Number} updated_by Image record modified by\n * @description Image holds record of all image assets\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport table from \"./table\";\nimport { DATABASE } from \"../../../constants\";\nimport Staff from \"../staff/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const schemaCreate = {\n    name: Joi.string().trim().required(),\n    url: Joi.string().trim().required(),\n    // image: Joi.any().meta({ swaggerType: \"file\" }).required(),\n    created_by: Joi.string().required(),\n};\n\nexport const schemaUpdate = {\n    name: Joi.string().trim().required(),\n    url: Joi.string().trim().required(),\n    updated_by: Joi.string().required(),\n};\n\nexport const schema = {\n    mysql_id: { type: Number },\n    name: { type: String, required: [true, \"Why no input?\"] },\n    url: { type: String, required: [true, \"Why no input?\"] },\n    created_by: { type: ObjectId, required: true, ref: \"Staff\" },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\nconst preload = DATABASE.PRELOAD_TABLE_DATA.DEFAULT;\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"image\");\n\nconst Image = mongoose.model(\"Image\", newSchema);\n\nif (preload) { Image.insertMany(table); }\n\nexport default Image;\n"]}