{"version":3,"sources":["../../../../src/api/general/multimedia/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","name","Joi","string","trim","required","url","created_by","schemaUpdate","updated_by","schema","mysql_id","type","Number","String","ref","preload","DATABASE","PRELOAD_TABLE_DATA","DEFAULT","options","OPTIONS","newSchema","set","Image","model","insertMany","table"],"mappings":";;;;;;;AASA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;;;AAJA;AAXA;;;;;;;;;IAiBQA,M,GAAWC,kB,CAAXD,M;IACAE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME,sCAAe;AACxBC,UAAMC,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EADkB;AAExBC,SAAKJ,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EAFmB;AAGxB;AACAE,gBAAYL,cAAIC,MAAJ,GAAaE,QAAb;AAJY,CAArB;;AAOA,IAAMG,sCAAe;AACxBP,UAAMC,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EADkB;AAExBC,SAAKJ,cAAIC,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,EAFmB;AAGxBI,gBAAYP,cAAIC,MAAJ,GAAaE,QAAb;AAHY,CAArB;;AAMA,IAAMK,0BAAS;AAClBC,cAAU,EAAEC,MAAMC,MAAR,EADQ;AAElBZ,UAAM,EAAEW,MAAME,MAAR,EAAgBT,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAFY;AAGlBC,SAAK,EAAEM,MAAME,MAAR,EAAgBT,UAAU,CAAC,IAAD,EAAO,eAAP,CAA1B,EAHa;AAIlBE,gBAAY,EAAEK,MAAMd,QAAR,EAAkBO,UAAU,IAA5B,EAAkCU,KAAK,OAAvC,EAJM;AAKlBN,gBAAY,EAAEG,MAAMd,QAAR,EAAkBiB,KAAK,OAAvB;AALM,CAAf;;AAQP,IAAMC,UAAUC,oBAASC,kBAAT,CAA4BC,OAA5C;AACA,IAAMC,UAAUH,oBAASI,OAAzB;;AAEA,IAAMC,YAAY,IAAI1B,MAAJ,CAAWc,MAAX,EAAmBU,OAAnB,CAAlB;AACAE,UAAUC,GAAV,CAAc,YAAd,EAA4B,OAA5B;;AAEA,IAAMC,QAAQ3B,mBAAS4B,KAAT,CAAe,OAAf,EAAwBH,SAAxB,CAAd;;AAEA,IAAIN,OAAJ,EAAa;AAAEQ,UAAME,UAAN,CAAiBC,eAAjB;AAA0B;;kBAE1BH,K","file":"model.js","sourcesContent":["/**\r\n * @author 4Decoder\r\n * @property {Number} id Image primaryKey\r\n * @property {String} name Image name\r\n * @property {String} url The Image url absolute-path\r\n * @property {Number} created_by Image record created by\r\n * @property {Number} updated_by Image record modified by\r\n * @description Image holds record of all image assets\r\n */\r\nimport Joi from \"joi\";\r\nimport mongoose from \"mongoose\";\r\n// eslint-disable-next-line camelcase\r\nimport mongoose_csv from \"mongoose-csv\";\r\nimport table from \"./table\";\r\nimport { DATABASE } from \"../../../constants\";\r\nimport Staff from \"../staff/model\";\r\n\r\nconst { Schema } = mongoose;\r\nconst { ObjectId } = Schema.Types;\r\n\r\nexport const schemaCreate = {\r\n    name: Joi.string().trim().required(),\r\n    url: Joi.string().trim().required(),\r\n    // image: Joi.any().meta({ swaggerType: \"file\" }).required(),\r\n    created_by: Joi.string().required(),\r\n};\r\n\r\nexport const schemaUpdate = {\r\n    name: Joi.string().trim().required(),\r\n    url: Joi.string().trim().required(),\r\n    updated_by: Joi.string().required(),\r\n};\r\n\r\nexport const schema = {\r\n    mysql_id: { type: Number },\r\n    name: { type: String, required: [true, \"Why no input?\"] },\r\n    url: { type: String, required: [true, \"Why no input?\"] },\r\n    created_by: { type: ObjectId, required: true, ref: \"Staff\" },\r\n    updated_by: { type: ObjectId, ref: \"Staff\" },\r\n};\r\n\r\nconst preload = DATABASE.PRELOAD_TABLE_DATA.DEFAULT;\r\nconst options = DATABASE.OPTIONS;\r\n\r\nconst newSchema = new Schema(schema, options);\r\nnewSchema.set(\"collection\", \"image\");\r\n\r\nconst Image = mongoose.model(\"Image\", newSchema);\r\n\r\nif (preload) { Image.insertMany(table); }\r\n\r\nexport default Image;\r\n"]}