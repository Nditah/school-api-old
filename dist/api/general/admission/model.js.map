{"version":3,"sources":["../../../../src/api/general/admission/model.js"],"names":["Schema","mongoose","ObjectId","Types","schemaCreate","passport","Joi","string","optional","surname","given_name","home_town","address","state_id","county_id","phone","trim","birth_date","date","religion","denomination","last_class","intending_class","last_school","father_name","mother_name","home_address","created_by","required","schemaUpdate","updated_by","schema","type","String","ref","Date","minlength","unique","alias","status","options","DATABASE","OPTIONS","newSchema","set","plugin","mongoose_csv","Admission","model"],"mappings":"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","file":"model.js","sourcesContent":["/**\n * @author 4Dcoder\n * @property {ObjectId} id admission primaryKey\n * @property {String} passport Admission passport (required)\n * @property {String} surname Admission surname (required)\n * @property {String} given_name Admission First Name\n * @property {String} home_town Admission Home Town\n * @property {String} address Admission village\n * @property {String} county_id Admission county\n * @property {String} state_id Admission state\n * @property {Date}   birth_date Admission date\n * @property {String} religion Admission Religion\n * @property {String} denomination Admission Denomination\n * @property {String} last_class Admission last class attended\n * @property {String} intending_class Admission intending class\n * @property {String} last_school Admission last school attended\n * @property {String} father_name Admission father's name\n * @property {String} mother_name Admission mother's name\n * @property {String} home_address Admission guadians home address\n * @property {String} phone Admission guadians phone number\n * @description Admission model holds record of all admissions in Peace Group\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE } from \"../../../constants\";\n// eslint-disable-next-line import/no-cycle\nimport Staff from \"../staff/model\";\nimport State from \"../state/model\";\nimport County from \"../county/model\";\nimport Classe from \"../office/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const schemaCreate = {\n    passport: Joi.string().optional(),\n    surname: Joi.string().optional(),\n    given_name: Joi.string().optional(),\n    home_town: Joi.string().optional(),\n    address: Joi.string().optional(),\n    state_id: Joi.string().optional(),\n    county_id: Joi.string().optional(),\n    phone: Joi.string().trim().optional(),\n    birth_date: Joi.date().optional(),\n    religion: Joi.string().optional(),\n    denomination: Joi.string().optional(),\n    last_class: Joi.string().optional(),\n    intending_class: Joi.string().optional(),\n    last_school: Joi.string().optional(),\n    father_name: Joi.string().optional(),\n    mother_name: Joi.string().optional(),\n    home_address: Joi.string().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const schemaUpdate = {\n    passport: Joi.string().optional(),\n    surname: Joi.string().optional(),\n    given_name: Joi.string().optional(),\n    home_town: Joi.string().optional(),\n    address: Joi.string().optional(),\n    state_id: Joi.string().optional(),\n    county_id: Joi.string().optional(),\n    phone: Joi.string().trim().optional(),\n    birth_date: Joi.date().optional(),\n    religion: Joi.string().optional(),\n    denomination: Joi.string().optional(),\n    last_class: Joi.string().optional(),\n    intending_class: Joi.string().optional(),\n    last_school: Joi.string().optional(),\n    father_name: Joi.string().optional(),\n    mother_name: Joi.string().optional(),\n    home_address: Joi.string().optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const schema = {\n    passport: { type: String },\n    surname: { type: String, required: [false, \"Why no surname?\"] },\n    given_name: { type: String, required: [false, \"Why no given_names?\"] },\n    home_town: { type: String },\n    state_id: { type: ObjectId, ref: \"State\" },\n    county_id: { type: ObjectId, ref: \"County\" },\n    birth_date: { type: Date },\n    religion: { type: String },\n    denomination: { type: String },\n    last_class: { type: ObjectId, ref: \"Classe\" },\n    intending_class: { type: ObjectId, ref: \"Classe\" },\n    last_school: { type: String },\n    father_name: { type: String },\n    mother_name: { type: String },\n    home_address: { type: String },\n    phone: {\n        type: String,\n        minlength: 11,\n        trim: true,\n        required: [true, \"Why no phone?\"],\n        unique: true,\n        alias: \"phone_office\",\n    },\n    status: { type: String },\n    created_by: { type: ObjectId, required: true, ref: \"Staff\" },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"admission\");\nnewSchema.plugin(mongoose_csv);\n\nconst Admission = mongoose.model(\"Admission\", newSchema);\n\nexport default Admission;\n"]}