{"version":3,"sources":["../../../../src/api/general/paystack/model.js"],"names":["Joi","mongoose","mongoose_csv","DATABASE","Schema","schemaCreate","branchid","number","required","amount","string","channel","trandate","date","trancode","destaccountno","balance","originbank","narration","optional","currency","trantype","trim","valid","valuedate","business_id","transaction_ref","branchname","schema","type","Number","String","Date","default","enum","options","OPTIONS","newSchema","set","PaystackTransaction","model"],"mappings":"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","file":"model.js","sourcesContent":["/**\n * @author 4Dcoder\n * @property {Number} branchid UnionBank Branch code the transaction originated from\n * @property {String} channel UnionBank channel Transaction Channel\n * @property {Date} trandate UnionBank trandate Date transaction was initiated\n * @property {String} trancode UnionBank trancode Transaction code\n * @property {String} amount UnionBank amount Transaction amount\n * @property {String} currency UnionBank currency Currency In which transaction occurred\n * @property {String} destaccountno UnionBank destaccountno Integrating partner’s account\n * number transaction occurred on\n * @property {Number} balance UnionBank balance Available balance on the account\n * transaction occurred on\n * @property {String} originbank UnionBank originbank Integrating partner’s bank\n * @property {String} narration UnionBank narration Description of the transaction\n * @property {String} trantype UnionBank trantype Transaction type: Debit or Credit\n * @property {Date} valuedate UnionBank valuedate Date the value of the transaction hit the account\n * @property {Number} business_id UnionBank business_id Profile ID for integrating partner\n * @property {String} transaction_ref UnionBank transaction_ref Unique transaction reference number\n * @property {String} branchname UnionBank branchname Branch name the transaction originated from\n * @description PaystackTransaction model holds record of all transactions via Paystack\n */\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE } from \"../../../constants\";\n\nconst { Schema } = mongoose;\n\nexport const schemaCreate = {\n    branchid: Joi.number().required(),\n    amount: Joi.string().required(),\n    channel: Joi.string().required(),\n    trandate: Joi.date().required(),\n    trancode: Joi.string().required(),\n    destaccountno: Joi.string().required(),\n    balance: Joi.number().required(),\n    originbank: Joi.string().required(),\n    narration: Joi.string().optional(),\n    currency: Joi.string().required(),\n    trantype: Joi.string().trim().valid([\"CREDIT\", \"DEBIT\"]).required(),\n    valuedate: Joi.date().required(),\n    business_id: Joi.number().required(),\n    transaction_ref: Joi.string().required(),\n    branchname: Joi.string().required(),\n};\n\nexport const schema = {\n    branchid: { type: Number, required: [true, \"Why no branchid?\"] },\n    amount: { type: String, required: [true, \"Why no amount?\"] },\n    channel: { type: String, required: [true, \"Why no channel?\"] },\n    trandate: { type: Date, required: [true, \"Why no trandate?\"] },\n    trancode: { type: String, required: [true, \"Why no trancode?\"] },\n    destaccountno: { type: String, required: [true, \"Why no dest account no?\"] },\n    balance: { type: Number, required: [true, \"Why no balance?\"] },\n    originbank: { type: String, required: [true, \"Why no origin bank?\"] },\n    narration: { type: String },\n    currency: { type: String, required: [true, \"Why no currency?\"], default: \"NGN\" },\n    trantype: { type: String, enum: [\"CREDIT\", \"DEBIT\"], required: [true, \"Why no trantype?\"] },\n    valuedate: { type: Date, required: [true, \"Why no value date?\"] },\n    business_id: { type: Number, required: [true, \"Why no business id?\"] },\n    transaction_ref: { type: String, required: [true, \"Why no transaction ref?\"] },\n    branchname: { type: String, required: [true, \"Why no branch name?\"] },\n};\n\nconst options = DATABASE.OPTIONS;\n\nconst newSchema = new Schema(schema, options);\nnewSchema.set(\"collection\", \"paystack_transaction\");\n\nconst PaystackTransaction = mongoose.model(\"PaystackTransaction\", newSchema);\n\nexport default PaystackTransaction;\n"]}