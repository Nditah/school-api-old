{"version":3,"sources":["../../../../src/api/general/hostel/model.js"],"names":["Schema","mongoose","ObjectId","Types","hostelCreate","hall","Joi","string","required","block","hostel_fees","description","optional","created_by","hostelUpdate","hostel_rooms","array","status","valid","updated_by","hostelSchema","type","String","unique","ref","enum","default","deleted","Boolean","deleted_at","Date","hostelRoomCreate","hostel","code","floor","number","hostelRoomUpdate","hostel_bedspaces","hostelRoomSchema","hostelBedspaceCreate","room","hostelBedspaceUpdate","occupant","hostelBedspaceSchema","comment","hostelAllocationCreate","bedspace","fees_payment","hostelAllocationUpdate","hostelAllocationSchema","options","DATABASE","OPTIONS","newHostelSchema","newHostelRoomSchema","newHostelBedspaceSchemaSchema","newHostelAllocationSchemaSchema","set","plugin","mongoose_csv","Hostel","model","HostelRoom","HostelBedspace","HostelAllocation"],"mappings":";;;;;;;AAeA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;IAEQA,M,GAAWC,kB,CAAXD,M;AAPR;AAjBA;AACA;;AAEA;;;;;;;;;;;;IAsBQE,Q,GAAaF,OAAOG,K,CAApBD,Q;AAED,IAAME,sCAAe;AACxBC,UAAMC,cAAIC,MAAJ,GAAaC,QAAb,EADkB;AAExBC,WAAOH,cAAIC,MAAJ,GAAaC,QAAb,EAFiB;AAGxBE,iBAAaJ,cAAIC,MAAJ,GAAaC,QAAb,EAHW;AAIxBG,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EAJW;AAKxBC,gBAAYP,cAAIC,MAAJ,GAAaC,QAAb;AALY,CAArB;;AAQA,IAAMM,sCAAe;AACxBT,UAAMC,cAAIC,MAAJ,GAAaK,QAAb,EADkB;AAExBH,WAAOH,cAAIC,MAAJ,GAAaK,QAAb,EAFiB;AAGxBG,kBAAcT,cAAIU,KAAJ,GAAYJ,QAAZ,EAHU;AAIxBF,iBAAaJ,cAAIC,MAAJ,GAAaK,QAAb,EAJW;AAKxBD,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EALW;AAMxBK,YAAQX,cAAIC,MAAJ,GAAaW,KAAb,CAAmB,CAAC,WAAD,EAAc,UAAd,CAAnB,EAA8CN,QAA9C,EANgB;AAOxBO,gBAAYb,cAAIC,MAAJ,GAAaC,QAAb;AAPY,CAArB;;AAUA,IAAMY,sCAAe;AACxBf,UAAM,EAAEgB,MAAMC,MAAR,EAAgBd,UAAU,IAA1B,EAAgCe,QAAQ,IAAxC,EADkB,EAC8B;AACtDd,WAAO,EAAEY,MAAMC,MAAR,EAAgBd,UAAU,IAA1B,EAFiB,EAEiB;AACzCO,kBAAc,CAAC,EAAEM,MAAMnB,QAAR,EAAkBsB,KAAK,YAAvB,EAAD,CAHU;AAIxBd,iBAAa,EAAEW,MAAMnB,QAAR,EAAkBsB,KAAK,MAAvB,EAA+BhB,UAAU,IAAzC,EAJW;AAKxBG,iBAAa,EAAEU,MAAMC,MAAR,EALW;AAMxBL,YAAQ;AACJI,cAAMC,MADF;AAEJG,cAAM,CAAC,WAAD,EAAc,UAAd,CAFF;AAGJC,iBAAS;AAHL,KANgB;AAWxBC,aAAS,EAAEN,MAAMO,OAAR,EAAiBF,SAAS,KAA1B,EAAiClB,UAAU,IAA3C,EAXe;AAYxBqB,gBAAY,EAAER,MAAMS,IAAR,EAZY;AAaxBjB,gBAAY,EAAEQ,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB,EAAgChB,UAAU,IAA1C,EAbY;AAcxBW,gBAAY,EAAEE,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB;AAdY,CAArB;;AAiBP;;AAEA;;;;;;;;;;;;AAYO,IAAMO,8CAAmB;AAC5BC,YAAQ1B,cAAIC,MAAJ,GAAaC,QAAb,EADoB;AAE5ByB,UAAM3B,cAAIC,MAAJ,GAAaC,QAAb,EAFsB;AAG5B0B,WAAO5B,cAAI6B,MAAJ,GAAavB,QAAb,EAHqB;AAI5BD,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EAJe;AAK5BC,gBAAYP,cAAIC,MAAJ,GAAaC,QAAb;AALgB,CAAzB;;AAQA,IAAM4B,8CAAmB;AAC5BJ,YAAQ1B,cAAIC,MAAJ,GAAaK,QAAb,EADoB;AAE5BqB,UAAM3B,cAAIC,MAAJ,GAAaK,QAAb,EAFsB;AAG5BsB,WAAO5B,cAAI6B,MAAJ,GAAavB,QAAb,EAHqB;AAI5ByB,sBAAkB/B,cAAIU,KAAJ,GAAYJ,QAAZ,EAJU;AAK5BD,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EALe;AAM5BK,YAAQX,cAAIC,MAAJ,GAAaW,KAAb,CAAmB,CAAC,WAAD,EAAc,UAAd,CAAnB,EAA8CN,QAA9C,EANoB;AAO5BO,gBAAYb,cAAIC,MAAJ,GAAaC,QAAb;AAPgB,CAAzB;;AAUA,IAAM8B,8CAAmB;AAC5BN,YAAQ,EAAEX,MAAMnB,QAAR,EAAkBsB,KAAK,QAAvB,EAAiChB,UAAU,IAA3C,EADoB;AAE5ByB,UAAM,EAAEZ,MAAMC,MAAR,EAFsB,EAEJ;AACxBY,WAAO,EAAEb,MAAMC,MAAR,EAAgBG,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,EAA/B,CAAtB,EAHqB;AAI5BY,sBAAkB,CAAC,EAAEhB,MAAMnB,QAAR,EAAkBsB,KAAK,gBAAvB,EAAD,CAJU;AAK5Bb,iBAAa,EAAEU,MAAMC,MAAR,EALe;AAM5BL,YAAQ;AACJI,cAAMC,MADF;AAEJG,cAAM,CAAC,WAAD,EAAc,UAAd,CAFF;AAGJC,iBAAS;AAHL,KANoB;AAW5BC,aAAS,EAAEN,MAAMO,OAAR,EAAiBF,SAAS,KAA1B,EAAiClB,UAAU,IAA3C,EAXmB;AAY5BqB,gBAAY,EAAER,MAAMS,IAAR,EAZgB;AAa5BjB,gBAAY,EAAEQ,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB,EAAgChB,UAAU,IAA1C,EAbgB;AAc5BW,gBAAY,EAAEE,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB;AAdgB,CAAzB;;AAiBP;;AAEA;;;;;;;;;;;AAWO,IAAMe,sDAAuB;AAChCC,UAAMlC,cAAIC,MAAJ,GAAaC,QAAb,EAD0B;AAEhCyB,UAAM3B,cAAIC,MAAJ,GAAaC,QAAb,EAF0B;AAGhCG,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EAHmB;AAIhCC,gBAAYP,cAAIC,MAAJ,GAAaC,QAAb;AAJoB,CAA7B;;AAOA,IAAMiC,sDAAuB;AAChCD,UAAMlC,cAAIC,MAAJ,GAAaK,QAAb,EAD0B;AAEhCqB,UAAM3B,cAAIC,MAAJ,GAAaK,QAAb,EAF0B;AAGhC8B,cAAUpC,cAAIC,MAAJ,GAAaK,QAAb,EAHsB;AAIhCD,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EAJmB;AAKhCK,YAAQX,cAAIC,MAAJ,GAAaW,KAAb,CAAmB,CAAC,WAAD,EAAc,UAAd,CAAnB,EAA8CN,QAA9C,EALwB;AAMhCO,gBAAYb,cAAIC,MAAJ,GAAaC,QAAb;AANoB,CAA7B;;AASA,IAAMmC,sDAAuB;AAChCH,UAAM,EAAEnB,MAAMnB,QAAR,EAAkBsB,KAAK,MAAvB,EAA+BhB,UAAU,IAAzC,EAD0B;AAEhCyB,UAAM,EAAEZ,MAAMC,MAAR,EAAgBd,UAAU,IAA1B,EAF0B,EAEQ;AACxCkC,cAAU,EAAErB,MAAMnB,QAAR,EAAkBsB,KAAK,SAAvB,EAAkCoB,SAAS,kBAA3C,EAHsB;AAIhCjC,iBAAa,EAAEU,MAAMC,MAAR,EAJmB;AAKhCL,YAAQ;AACJI,cAAMC,MADF;AAEJG,cAAM,CAAC,WAAD,EAAc,UAAd,CAFF;AAGJC,iBAAS;AAHL,KALwB;AAUhCC,aAAS,EAAEN,MAAMO,OAAR,EAAiBF,SAAS,KAA1B,EAAiClB,UAAU,IAA3C,EAVuB;AAWhCqB,gBAAY,EAAER,MAAMS,IAAR,EAXoB;AAYhCjB,gBAAY,EAAEQ,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB,EAAgChB,UAAU,IAA1C,EAZoB;AAahCW,gBAAY,EAAEE,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB;AAboB,CAA7B;;AAgBP;;AAEA;;;;;;;;;;;AAWO,IAAMqB,0DAAyB;AAClCC,cAAUxC,cAAIC,MAAJ,GAAaC,QAAb,EADwB;AAElCuC,kBAAczC,cAAIC,MAAJ,GAAaC,QAAb,EAFoB;AAGlCkC,cAAUpC,cAAIC,MAAJ,GAAaK,QAAb,EAHwB;AAIlCD,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EAJqB;AAKlCC,gBAAYP,cAAIC,MAAJ,GAAaC,QAAb;AALsB,CAA/B;;AAQA,IAAMwC,0DAAyB;AAClCF,cAAUxC,cAAIC,MAAJ,GAAaK,QAAb,EADwB;AAElCmC,kBAAczC,cAAIC,MAAJ,GAAaK,QAAb,EAFoB;AAGlC8B,cAAUpC,cAAIC,MAAJ,GAAaK,QAAb,EAHwB;AAIlCD,iBAAaL,cAAIC,MAAJ,GAAaK,QAAb,EAJqB;AAKlCK,YAAQX,cAAIC,MAAJ,GAAaW,KAAb,CAAmB,CAAC,WAAD,EAAc,UAAd,CAAnB,EAA8CN,QAA9C,EAL0B;AAMlCO,gBAAYb,cAAIC,MAAJ,GAAaC,QAAb;AANsB,CAA/B;;AASA,IAAMyC,0DAAyB;AAClCH,cAAU,EAAEzB,MAAMnB,QAAR,EAAkBsB,KAAK,UAAvB,EAAmChB,UAAU,IAA7C,EADwB;AAElCuC,kBAAc,EAAE1B,MAAMnB,QAAR,EAAkBsB,KAAK,aAAvB,EAAsChB,UAAU,IAAhD,EAFoB;AAGlCG,iBAAa,EAAEU,MAAMC,MAAR,EAHqB;AAIlCoB,cAAU,EAAErB,MAAMnB,QAAR,EAAkBsB,KAAK,SAAvB,EAAkCoB,SAAS,SAA3C,EAJwB;AAKlCjB,aAAS,EAAEN,MAAMO,OAAR,EAAiBF,SAAS,KAA1B,EAAiClB,UAAU,IAA3C,EALyB;AAMlCqB,gBAAY,EAAER,MAAMS,IAAR,EANsB;AAOlCjB,gBAAY,EAAEQ,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB,EAAgChB,UAAU,IAA1C,EAPsB;AAQlCW,gBAAY,EAAEE,MAAMnB,QAAR,EAAkBsB,KAAK,OAAvB;AARsB,CAA/B;;AAWP,IAAM0B,UAAUC,oBAASC,OAAzB;;AAEA,IAAMC,kBAAkB,IAAIrD,MAAJ,CAAWoB,YAAX,EAAyB8B,OAAzB,CAAxB;AACA,IAAMI,sBAAsB,IAAItD,MAAJ,CAAWsC,gBAAX,EAA6BY,OAA7B,CAA5B;AACA,IAAMK,gCAAgC,IAAIvD,MAAJ,CAAW2C,oBAAX,EAAiCO,OAAjC,CAAtC;AACA,IAAMM,kCAAkC,IAAIxD,MAAJ,CAAWiD,sBAAX,EAAmCC,OAAnC,CAAxC;;AAEAG,gBAAgBI,GAAhB,CAAoB,YAApB,EAAkC,QAAlC;AACAH,oBAAoBG,GAApB,CAAwB,YAAxB,EAAsC,aAAtC;AACAF,8BAA8BE,GAA9B,CAAkC,YAAlC,EAAgD,iBAAhD;AACAD,gCAAgCC,GAAhC,CAAoC,YAApC,EAAkD,mBAAlD;;AAEAJ,gBAAgBK,MAAhB,CAAuBC,qBAAvB;AACAL,oBAAoBI,MAApB,CAA2BC,qBAA3B;AACAJ,8BAA8BG,MAA9B,CAAqCC,qBAArC;AACAH,gCAAgCE,MAAhC,CAAuCC,qBAAvC;;AAEA,IAAMC,SAAS3D,mBAAS4D,KAAT,CAAe,QAAf,EAAyBR,eAAzB,CAAf;AACA,IAAMS,aAAa7D,mBAAS4D,KAAT,CAAe,YAAf,EAA6BP,mBAA7B,CAAnB;AACA,IAAMS,iBAAiB9D,mBAAS4D,KAAT,CAAe,gBAAf,EAAiCN,6BAAjC,CAAvB;AACA,IAAMS,mBAAmB/D,mBAAS4D,KAAT,CAAe,kBAAf,EAAmCL,+BAAnC,CAAzB;;QAESI,M,GAAAA,M;QAAQE,U,GAAAA,U;QAAYC,c,GAAAA,c;QAAgBC,gB,GAAAA,gB","file":"model.js","sourcesContent":["/* eslint-disable import/no-cycle */\n//* Hotels\n\n/**\n * @author 4Dcoder\n * @property {Number} id hostel primaryKey\n * @property {String} hall Hostel hall name (required)\n * @property {String} block Hostel block name (required)\n * @property {Number} hostel_rooms Hostel Rooms (required)\n * @property {Number} hostel_fees Hostel fees (required)\n * @property {String} description Hostel description (optional)\n * @property {String} status Hostel Status (Occupied or not Occupied)(optional)\n * @description Hostel model holds record of all hostels the company deals with\n */\n\nimport Joi from \"joi\";\nimport mongoose from \"mongoose\";\n// eslint-disable-next-line camelcase\nimport mongoose_csv from \"mongoose-csv\";\nimport { DATABASE } from \"../../../constants\";\nimport Staff from \"../staff/model\";\nimport Student from \"../student/model\";\nimport { Fees, FeesPayment } from \"../fees/model\";\n\nconst { Schema } = mongoose;\nconst { ObjectId } = Schema.Types;\n\nexport const hostelCreate = {\n    hall: Joi.string().required(),\n    block: Joi.string().required(),\n    hostel_fees: Joi.string().required(),\n    description: Joi.string().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const hostelUpdate = {\n    hall: Joi.string().optional(),\n    block: Joi.string().optional(),\n    hostel_rooms: Joi.array().optional(),\n    hostel_fees: Joi.string().optional(),\n    description: Joi.string().optional(),\n    status: Joi.string().valid([\"AVAILABLE\", \"OCCUPIED\"]).optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const hostelSchema = {\n    hall: { type: String, required: true, unique: true }, // unique building\n    block: { type: String, required: true }, // building\n    hostel_rooms: [{ type: ObjectId, ref: \"HostelRoom\" }],\n    hostel_fees: { type: ObjectId, ref: \"Fees\", required: true },\n    description: { type: String },\n    status: {\n        type: String,\n        enum: [\"AVAILABLE\", \"OCCUPIED\"],\n        default: \"AVAILABLE\",\n    },\n    deleted: { type: Boolean, default: false, required: true },\n    deleted_at: { type: Date },\n    created_by: { type: ObjectId, ref: \"Staff\", required: true },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\n//* HOSTEL-ROOM\n\n/**\n * @author 4Dcoder\n * @property {Number} id hostelRoom primaryKey\n * @property {String} hostel hostelRoom hostel name (required)\n * @property {String} code hostelRoom code name (required)\n * @property {Number} floor hostelRoom floor (required)\n * @property {Number} hostel_bedspaces hostelRoom floor (required)\n * @property {String} description hostelRoom description (optional)\n * @property {String} status hostelRoom Status (Occupied or not Occupied)(optional)\n * @description hostelRoom model holds record of all hostelRoom the company deals with\n */\n\nexport const hostelRoomCreate = {\n    hostel: Joi.string().required(),\n    code: Joi.string().required(),\n    floor: Joi.number().optional(),\n    description: Joi.string().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const hostelRoomUpdate = {\n    hostel: Joi.string().optional(),\n    code: Joi.string().optional(),\n    floor: Joi.number().optional(),\n    hostel_bedspaces: Joi.array().optional(),\n    description: Joi.string().optional(),\n    status: Joi.string().valid([\"AVAILABLE\", \"OCCUPIED\"]).optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const hostelRoomSchema = {\n    hostel: { type: ObjectId, ref: \"Hostel\", required: true },\n    code: { type: String }, // Room Number\n    floor: { type: String, enum: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] },\n    hostel_bedspaces: [{ type: ObjectId, ref: \"HostelBedspace\" }],\n    description: { type: String },\n    status: {\n        type: String,\n        enum: [\"AVAILABLE\", \"OCCUPIED\"],\n        default: \"AVAILABLE\",\n    },\n    deleted: { type: Boolean, default: false, required: true },\n    deleted_at: { type: Date },\n    created_by: { type: ObjectId, ref: \"Staff\", required: true },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\n//* HOSTEL-BEDSPACE\n\n/**\n * @author 4Dcoder\n * @property {Number} id hostelBedspace primaryKey\n * @property {String} room hostelBedspace room name (required)\n * @property {String} code hostelBedspace code name (required)\n * @property {Number} occupant hostelBedspace occupant (required)\n * @property {String} description hostelBedspace description (optional)\n * @property {String} status hostelBedspace Status (Occupied or not Occupied)(optional)\n * @description hostelBedspace model holds record of all hostelBedspace the company deals with\n */\n\nexport const hostelBedspaceCreate = {\n    room: Joi.string().required(),\n    code: Joi.string().required(),\n    description: Joi.string().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const hostelBedspaceUpdate = {\n    room: Joi.string().optional(),\n    code: Joi.string().optional(),\n    occupant: Joi.string().optional(),\n    description: Joi.string().optional(),\n    status: Joi.string().valid([\"AVAILABLE\", \"OCCUPIED\"]).optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const hostelBedspaceSchema = {\n    room: { type: ObjectId, ref: \"Room\", required: true },\n    code: { type: String, required: true }, // Room Number\n    occupant: { type: ObjectId, ref: \"Student\", comment: \"current occupant\" },\n    description: { type: String },\n    status: {\n        type: String,\n        enum: [\"AVAILABLE\", \"OCCUPIED\"],\n        default: \"AVAILABLE\",\n    },\n    deleted: { type: Boolean, default: false, required: true },\n    deleted_at: { type: Date },\n    created_by: { type: ObjectId, ref: \"Staff\", required: true },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\n//* HOSTEL-ALLOCATION\n\n/**\n * @author 4Dcoder\n * @property {Number} id hostelAllocation primaryKey\n * @property {String} bedspace hostelAllocation room name (required)\n * @property {String} fees_payment hostelAllocation code name (required)\n * @property {Number} occupant hostelAllocation occupant (required)\n * @property {String} description hostelAllocation description (optional)\n * @property {String} status hostelAllocation Status (Occupied or not Occupied)(optional)\n * @description hostelAllocation model holds record of all hostelAllocation the company deals with\n */\n\nexport const hostelAllocationCreate = {\n    bedspace: Joi.string().required(),\n    fees_payment: Joi.string().required(),\n    occupant: Joi.string().optional(),\n    description: Joi.string().optional(),\n    created_by: Joi.string().required(),\n};\n\nexport const hostelAllocationUpdate = {\n    bedspace: Joi.string().optional(),\n    fees_payment: Joi.string().optional(),\n    occupant: Joi.string().optional(),\n    description: Joi.string().optional(),\n    status: Joi.string().valid([\"AVAILABLE\", \"OCCUPIED\"]).optional(),\n    updated_by: Joi.string().required(),\n};\n\nexport const hostelAllocationSchema = {\n    bedspace: { type: ObjectId, ref: \"Bedspace\", required: true },\n    fees_payment: { type: ObjectId, ref: \"FeesPayment\", required: true },\n    description: { type: String },\n    occupant: { type: ObjectId, ref: \"Student\", comment: \"student\" },\n    deleted: { type: Boolean, default: false, required: true },\n    deleted_at: { type: Date },\n    created_by: { type: ObjectId, ref: \"Staff\", required: true },\n    updated_by: { type: ObjectId, ref: \"Staff\" },\n};\n\nconst options = DATABASE.OPTIONS;\n\nconst newHostelSchema = new Schema(hostelSchema, options);\nconst newHostelRoomSchema = new Schema(hostelRoomSchema, options);\nconst newHostelBedspaceSchemaSchema = new Schema(hostelBedspaceSchema, options);\nconst newHostelAllocationSchemaSchema = new Schema(hostelAllocationSchema, options);\n\nnewHostelSchema.set(\"collection\", \"hostel\");\nnewHostelRoomSchema.set(\"collection\", \"hostel_room\");\nnewHostelBedspaceSchemaSchema.set(\"collection\", \"hostel_bedspace\");\nnewHostelAllocationSchemaSchema.set(\"collection\", \"hostel_allocation\");\n\nnewHostelSchema.plugin(mongoose_csv);\nnewHostelRoomSchema.plugin(mongoose_csv);\nnewHostelBedspaceSchemaSchema.plugin(mongoose_csv);\nnewHostelAllocationSchemaSchema.plugin(mongoose_csv);\n\nconst Hostel = mongoose.model(\"Hostel\", newHostelSchema);\nconst HostelRoom = mongoose.model(\"HostelRoom\", newHostelRoomSchema);\nconst HostelBedspace = mongoose.model(\"HostelBedspace\", newHostelBedspaceSchemaSchema);\nconst HostelAllocation = mongoose.model(\"HostelAllocation\", newHostelAllocationSchemaSchema);\n\nexport { Hostel, HostelRoom, HostelBedspace, HostelAllocation };\n"]}