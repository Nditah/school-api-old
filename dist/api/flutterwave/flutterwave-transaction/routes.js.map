{"version":3,"sources":["../../../../src/api/flutterwave/flutterwave-transaction/routes.js"],"names":["express","checkAuth","isValidStaff","fetchRecord","createRecord","verifyBvn","queryOnlineTnx","fetchSettlement","verifyOnlineTnx","router","Router","get","post"],"mappings":"AAAA;;;;;AAKA,OAAOA,OAAP,MAAoB,SAApB;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,mCAAxC;AACA,SAASC,WAAT,EAAsBC,YAAtB,EAAoCC,SAApC,EAA+CC,cAA/C,EAA+DC,eAA/D,EAAgFC,eAAhF,QAAuG,cAAvG;;AAEA,MAAMC,SAAST,QAAQU,MAAR,EAAf;;AAEA;;;;;;;;;;;;;;;AAeAD,OAAOE,GAAP,CAAW,2BAAX,EAAwC,CAACV,SAAD,EAAYC,YAAZ,CAAxC,EAAmEC,WAAnE;;AAEA;;;;;;;;;;;;;;;;;;AAkBAM,OAAOE,GAAP,CAAW,kCAAX,EAA+C,CAACV,SAAD,EAAYC,YAAZ,CAA/C,EAA0EI,cAA1E;;AAEA;;;;;;;;;;;;;AAaAG,OAAOE,GAAP,CAAW,sCAAX,EAAmD,CAACV,SAAD,EAAYC,YAAZ,CAAnD,EAA8EK,eAA9E;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCAE,OAAOG,IAAP,CAAY,2BAAZ,EAAyCR,YAAzC;;AAEA;;;;;;;;;AASAK,OAAOE,GAAP,CAAW,oCAAX,EAAiDN,SAAjD;;AAEA;;;;;;;;;;AAUAI,OAAOE,GAAP,CAAW,0CAAX,EAAuDH,eAAvD;;AAEA,eAAeC,MAAf","file":"routes.js","sourcesContent":["/**\n * @author 4Decoder\n * @description FlutterwaveTransaction holds record of all transactions via\n * Flutterwave payment gateway\n */\nimport express from \"express\";\nimport { checkAuth, isValidStaff } from \"../../../middleware/authorization\";\nimport { fetchRecord, createRecord, verifyBvn, queryOnlineTnx, fetchSettlement, verifyOnlineTnx } from \"./controller\";\n\nconst router = express.Router();\n\n/**\n * @api {get} /api/flutterwave-transactions?id={recordId} Retrieve one or all records\n * @apiName RetrieveFlutterwaveTransaction\n * @apiGroup FlutterwaveTransaction\n  * @apiExample {curl} Example usage for retieving a single record:\n *      curl -i api/flutterwave-transactions?\n * @apiParam {Object} filter query condition (optional)\n * @apiParam {Number} skip Number of records to offset by (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {String} sort how records would be arranged in alphabet (optional)\n * @apiParam {String} projection list of record's attributes to retrieve (optional)\n * @apiDescription Records  of account headings belonging to one classification\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave-transactions\", [checkAuth, isValidStaff], fetchRecord);\n\n/**\n * @api {get} /api/flutterwave-transactions/online?id={recordId} Retrieve one or all online Tnx\n * @apiName RetrieveFlutterwaveTransactionOnline\n * @apiGroup FlutterwaveTransaction\n * @apiExample {curl} Example usage for retieving multiple records:\n *      curl -i https://ravesandboxapi.flutterwave.com/v2/gpx/transactions/query?\n * @apiParam {Number} id transaction ID from from the Verify transaction response (optional)\n * @apiParam {Number} offset Number of records to skip (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {Date} from transactions Start-date to list records (optional)\n * @apiParam {Date} to transactions End-date to list records (optional)\n * @apiParam {String} currency transactions currency to query records e.g. \"NGN\"\n * @apiParam {String} status transactions status to query records e.g. \"successful\"\n * @apiDescription Records of online transactions or retrieve the timeline events\n * detail of a transaction\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave-transactions/online\", [checkAuth, isValidStaff], queryOnlineTnx);\n\n/**\n * @api {get} /api/flutterwave-transactions/settlement?id={recordId} Retrieve one or all records\n * @apiName RetrieveFlutterwaveTransactionSettlement\n * @apiGroup FlutterwaveTransaction\n * @apiExample {curl} Example usage for retieving multiple records:\n *      curl -i http://localhost/api/flutterwave-transactions?page=1&limit=50&status=completed\n * @apiParam {Number} page to retrieve (optional)\n * @apiParam {Number} limit Maximum Number of records to retrieve (optional)\n * @apiParam {String} status Transaction status to retrieve e.g. \"completed\"\n * @apiDescription Records of Settlement accounts\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave-transactions/settlement\", [checkAuth, isValidStaff], fetchSettlement);\n\n/**\n * @api {post} /api/flutterwave-transactions Create flutterwave-transactions\n * @apiName CreateFlutterwaveTransaction\n * @apiGroup FlutterwaveTransaction\n * @apiParam {Number} flwId FlutterwaveTransaction flwId // 125837,\n * @apiParam {String} txRef FlutterwaveTransaction txRef // \"rave-pos-272519815315\",\n * @apiParam {String} flwRef FlutterwaveTransaction flwRef // \"FLWACHMOCK-1523118279396\",\n * @apiParam {String} orderRef FlutterwaveTransaction orderRef // \"URF_1523118277202_7343035\",\n * @apiParam {String} paymentPlan FlutterwaveTransaction paymentPlan // null,\n * @apiParam {Date} createdAt FlutterwaveTransaction createdAt // \"2018-04-07T16:24:37.000Z\",\n * @apiParam {Number} amount FlutterwaveTransaction amount // 200,\n * @apiParam {Number} charged_amount FlutterwaveTransaction charged_amount // 200,\n * @apiParam {String} status FlutterwaveTransaction status // \"successful\",\n * @apiParam {String} IP FlutterwaveTransaction IP // \"197.149.95.62\",\n * @apiParam {String} currency FlutterwaveTransaction currency // \"NGN\",\n * @apiParam {Object} customer FlutterwaveTransaction customer Object {\n *      {Number} id customer id // 5766,\n *      {String} phone customer phone , // \"N/A\",\n *      {String} fullName customer phone , // \"Anonymous customer\",\n *      {String} customertoken customer phone , // null,\n *      {String} email customer phone , // \"salesmode@ravepay.co\",\n *      {Date} createdAt customer phone , // \"2017-10-16T10:03:19.000Z\",\n *      {Date} updatedAt customer phone , // \"2017-10-16T10:03:19.000Z\",\n *      {Date} deletedAt customer phone , // null,\n *      {Number} AccountId customer phone , // 134,\n *      },\n * @apiParam {Object} entity FlutterwaveTransaction entity Object {\n *      {String} account_number entity , // \"0690000037\",\n *      {String} first_name entity , // \"Dele Moruf\",\n *      {String} last_name entity , // \"Quadri\",\n *      {String} card6 entity , // \"539983\",\n *      {String} card_last4 entity , // \"8381\",\n *      },\n * @apiSuccess {Object} FlutterwaveTransaction FlutterwaveTransaction's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 FlutterwaveTransaction not found.\n * @apiError 401 master access only.\n */\nrouter.post(\"/flutterwave-transactions\", createRecord);\n\n/**\n * @api {get} /api/flutterwave-transactions/bvn/:bvn verify BVN\n * @apiName VerifyBvn\n * @apiGroup FlutterwaveTransaction\n * @apiParam {String} bvn Bank Verification Number\n * @apiDescription This allows you verify the authenticity of a BVN\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave-transactions/bvn/:bvn\", verifyBvn);\n\n/**\n * @api {get} /api/flutterwave-transactions/payment/{txref} verify Payment\n * @apiName VerifyPayment\n * @apiGroup FlutterwaveTransaction\n * @apiParam {String} txref Transaction Reference Number\n * @apiDescription This allows you verify the authenticity of a Transaction\n * in terms of status, amount and currency\n * @apiSuccess {Object[]} Array of Objects of records.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get(\"/flutterwave-transactions/payment/:txref\", verifyOnlineTnx);\n\nexport default router;\n"]}