{"version":3,"sources":["../../src/config/credentials.js"],"names":["dotenv","config","mongooseOptions","useNewUrlParser","autoIndex","dbName","useFindAndModify","autoReconnect","useCreateIndex","reconnectTries","Number","MAX_VALUE","reconnectInterval","poolSize","bufferMaxEntries","connectTimeoutMS","socketTimeoutMS","family","keepAlive","keepAliveInitialDelay","getCredentials","development","uri","options","Object","assign","production","process","env","MONGODB_URI","NODE_ENV","credentials"],"mappings":";;;;;;AAAA;;;;;;AAEAA,iBAAOC,MAAP;;AAEA,IAAMC,kBAAkB;AACpBC,qBAAiB,IADG;AAEpBC,eAAW,IAFS,EAEH;AACjBC,YAAQ,OAHY;AAIpBC,sBAAkB,KAJE;AAKpBC,mBAAe,IALK;AAMpBC,oBAAgB,IANI;AAOpBC,oBAAgBC,OAAOC,SAPH,EAOc;AAClCC,uBAAmB,GARC,EAQI;AACxBC,cAAU,EATU,EASN;AACd;AACAC,sBAAkB,CAXE;AAYpBC,sBAAkB,KAZE,EAYK;AACzBC,qBAAiB,KAbG,EAaI;AACxBC,YAAQ,CAdY,EAcT;AACXC,eAAW,IAfS;AAgBpBC,2BAAuB;AAhBH,CAAxB;;AAmBA,IAAMC,iBAAiB,SAAjBA,cAAiB,GAAM;AACzB,QAAMC,cAAc;AAChBC,aAAK,kCADW;AAEhBC,iBAASC,OAAOC,MAAP,CAAcvB,eAAd,EAA+B;AACpCG,oBAAQ,QAD4B;AAEpCI,4BAAgB,EAFoB;AAGpCI,sBAAU;AAH0B,SAA/B;AAFO,KAApB;;AASA,QAAMa,aAAa;AACfJ,aAAKK,QAAQC,GAAR,CAAYC,WADF;AAEfN,iBAASC,OAAOC,MAAP,CAAcvB,eAAd,EAA+B;AACpCO,4BAAgB,GADoB;AAEpCG,+BAAmB,GAFiB;AAGpCC,sBAAU;AAH0B,SAA/B;AAFM,KAAnB;;AASA,YAAQc,QAAQC,GAAR,CAAYE,QAApB;AACA,aAAK,aAAL;AACI,mBAAOT,WAAP;;AAEJ,aAAK,YAAL;AACI,mBAAOK,UAAP;;AAEJ;AACI,mBAAOL,WAAP;AARJ;AAUH,CA7BD;;AA+BA,IAAMU,cAAcX,gBAApB;;kBAEeW,W","file":"credentials.js","sourcesContent":["import dotenv from \"dotenv\";\r\n\r\ndotenv.config();\r\n\r\nconst mongooseOptions = {\r\n    useNewUrlParser: true,\r\n    autoIndex: true, // Don't build indexes\r\n    dbName: \"peace\",\r\n    useFindAndModify: false,\r\n    autoReconnect: true,\r\n    useCreateIndex: true,\r\n    reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\r\n    reconnectInterval: 500, // Reconnect every 500ms\r\n    poolSize: 10, // Maintain up to 10 socket connections\r\n    // If not connected, return errors immediately rather than waiting for reconnect\r\n    bufferMaxEntries: 0,\r\n    connectTimeoutMS: 10000, // Give up initial connection after 10 seconds\r\n    socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\r\n    family: 4, // Use IPv4, skip trying IPv6\r\n    keepAlive: true,\r\n    keepAliveInitialDelay: 300000,\r\n};\r\n\r\nconst getCredentials = () => {\r\n    const development = {\r\n        uri: \"mongodb://localhost:27017/school\",\r\n        options: Object.assign(mongooseOptions, {\r\n            dbName: \"school\",\r\n            reconnectTries: 10,\r\n            poolSize: 5,\r\n        }),\r\n    };\r\n\r\n    const production = {\r\n        uri: process.env.MONGODB_URI,\r\n        options: Object.assign(mongooseOptions, {\r\n            reconnectTries: 500,\r\n            reconnectInterval: 500,\r\n            poolSize: 10,\r\n        }),\r\n    };\r\n\r\n    switch (process.env.NODE_ENV) {\r\n    case \"development\":\r\n        return development;\r\n\r\n    case \"production\":\r\n        return production;\r\n\r\n    default:\r\n        return development;\r\n    }\r\n};\r\n\r\nconst credentials = getCredentials();\r\n\r\nexport default credentials;\r\n"]}